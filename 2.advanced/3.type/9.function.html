<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>九.数据分类[Function] | JavaScript学习笔记</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/web-javascript/home.png">
    <link rel="manifest" href="/web-javascript/manifest.json">
    <script src="/web-javascript/dll/vendor.dll.js"></script>
    <script src="https://webapi.amap.com/maps?v=2.0&amp;key=46c9ed4e2d25a0e0ee7c883fd5b1a0c8"></script>
    <script src="https://webapi.amap.com/ui/1.1/main.js?v=1.1.1"></script>
    <meta name="description" content="个人总结的vuepress学习技术文档-语法">
    <meta name="keywords" content="vuepress,最新技术文档,vuepress语法,markdown语法">
    
    <link rel="preload" href="/web-javascript/assets/css/0.styles.b166fd3a.css" as="style"><link rel="preload" href="/web-javascript/assets/js/app.6a57d9f1.js" as="script"><link rel="preload" href="/web-javascript/assets/js/3.e9ec0dc9.js" as="script"><link rel="preload" href="/web-javascript/assets/js/18.e2b34fcc.js" as="script"><link rel="preload" href="/web-javascript/assets/js/6.8c68cd55.js" as="script"><link rel="prefetch" href="/web-javascript/assets/js/10.3d96434f.js"><link rel="prefetch" href="/web-javascript/assets/js/100.c80e2656.js"><link rel="prefetch" href="/web-javascript/assets/js/101.18e2af7f.js"><link rel="prefetch" href="/web-javascript/assets/js/102.f0338f3b.js"><link rel="prefetch" href="/web-javascript/assets/js/103.57088005.js"><link rel="prefetch" href="/web-javascript/assets/js/104.62e90cfc.js"><link rel="prefetch" href="/web-javascript/assets/js/105.4e4c6904.js"><link rel="prefetch" href="/web-javascript/assets/js/106.41f6b9ea.js"><link rel="prefetch" href="/web-javascript/assets/js/107.e0dc69a5.js"><link rel="prefetch" href="/web-javascript/assets/js/108.c8a5f366.js"><link rel="prefetch" href="/web-javascript/assets/js/109.a10f3f9c.js"><link rel="prefetch" href="/web-javascript/assets/js/11.4bc148a1.js"><link rel="prefetch" href="/web-javascript/assets/js/110.c60e9349.js"><link rel="prefetch" href="/web-javascript/assets/js/111.99c2c64d.js"><link rel="prefetch" href="/web-javascript/assets/js/112.25668345.js"><link rel="prefetch" href="/web-javascript/assets/js/113.2d603055.js"><link rel="prefetch" href="/web-javascript/assets/js/114.b72aa3a6.js"><link rel="prefetch" href="/web-javascript/assets/js/115.451fbb33.js"><link rel="prefetch" href="/web-javascript/assets/js/116.658d1cda.js"><link rel="prefetch" href="/web-javascript/assets/js/117.daa4b949.js"><link rel="prefetch" href="/web-javascript/assets/js/118.3589e8da.js"><link rel="prefetch" href="/web-javascript/assets/js/119.91c7754e.js"><link rel="prefetch" href="/web-javascript/assets/js/12.7dcfb5de.js"><link rel="prefetch" href="/web-javascript/assets/js/120.f1a4dc29.js"><link rel="prefetch" href="/web-javascript/assets/js/121.cd525b00.js"><link rel="prefetch" href="/web-javascript/assets/js/122.1d8a9e93.js"><link rel="prefetch" href="/web-javascript/assets/js/123.86e204ca.js"><link rel="prefetch" href="/web-javascript/assets/js/124.4378d0ec.js"><link rel="prefetch" href="/web-javascript/assets/js/125.dfb57f62.js"><link rel="prefetch" href="/web-javascript/assets/js/126.06cd9409.js"><link rel="prefetch" href="/web-javascript/assets/js/127.54144a39.js"><link rel="prefetch" href="/web-javascript/assets/js/128.f5989600.js"><link rel="prefetch" href="/web-javascript/assets/js/129.dd5df8e1.js"><link rel="prefetch" href="/web-javascript/assets/js/13.7a9078a8.js"><link rel="prefetch" href="/web-javascript/assets/js/130.6abb9efd.js"><link rel="prefetch" href="/web-javascript/assets/js/131.685f6e1f.js"><link rel="prefetch" href="/web-javascript/assets/js/132.1fcae530.js"><link rel="prefetch" href="/web-javascript/assets/js/133.07a19088.js"><link rel="prefetch" href="/web-javascript/assets/js/134.94ce2c23.js"><link rel="prefetch" href="/web-javascript/assets/js/135.55824ac4.js"><link rel="prefetch" href="/web-javascript/assets/js/136.6d02d7ca.js"><link rel="prefetch" href="/web-javascript/assets/js/137.71a12aff.js"><link rel="prefetch" href="/web-javascript/assets/js/138.b47f2f8b.js"><link rel="prefetch" href="/web-javascript/assets/js/139.a30442c1.js"><link rel="prefetch" href="/web-javascript/assets/js/14.3714f213.js"><link rel="prefetch" href="/web-javascript/assets/js/140.5434dcf2.js"><link rel="prefetch" href="/web-javascript/assets/js/141.ff42de96.js"><link rel="prefetch" href="/web-javascript/assets/js/142.1dda2adf.js"><link rel="prefetch" href="/web-javascript/assets/js/143.136bfded.js"><link rel="prefetch" href="/web-javascript/assets/js/144.b30598e6.js"><link rel="prefetch" href="/web-javascript/assets/js/145.3b0d1e50.js"><link rel="prefetch" href="/web-javascript/assets/js/146.88791b18.js"><link rel="prefetch" href="/web-javascript/assets/js/147.0960ed01.js"><link rel="prefetch" href="/web-javascript/assets/js/148.083f5c0a.js"><link rel="prefetch" href="/web-javascript/assets/js/149.3a5c9067.js"><link rel="prefetch" href="/web-javascript/assets/js/15.7ab85031.js"><link rel="prefetch" href="/web-javascript/assets/js/150.6fa7092a.js"><link rel="prefetch" href="/web-javascript/assets/js/151.6b79bb0f.js"><link rel="prefetch" href="/web-javascript/assets/js/152.f310937f.js"><link rel="prefetch" href="/web-javascript/assets/js/153.64abd3d4.js"><link rel="prefetch" href="/web-javascript/assets/js/154.1a4676b2.js"><link rel="prefetch" href="/web-javascript/assets/js/155.5e610ee0.js"><link rel="prefetch" href="/web-javascript/assets/js/156.29c3b074.js"><link rel="prefetch" href="/web-javascript/assets/js/157.c0c72142.js"><link rel="prefetch" href="/web-javascript/assets/js/158.4b8e09b4.js"><link rel="prefetch" href="/web-javascript/assets/js/159.1321d561.js"><link rel="prefetch" href="/web-javascript/assets/js/16.29fb6f38.js"><link rel="prefetch" href="/web-javascript/assets/js/160.2dc50048.js"><link rel="prefetch" href="/web-javascript/assets/js/161.31733017.js"><link rel="prefetch" href="/web-javascript/assets/js/162.463f31b3.js"><link rel="prefetch" href="/web-javascript/assets/js/163.fd00174e.js"><link rel="prefetch" href="/web-javascript/assets/js/164.e64e1d80.js"><link rel="prefetch" href="/web-javascript/assets/js/165.c2c3e501.js"><link rel="prefetch" href="/web-javascript/assets/js/166.1fee10bd.js"><link rel="prefetch" href="/web-javascript/assets/js/167.827b5a00.js"><link rel="prefetch" href="/web-javascript/assets/js/168.96e649f8.js"><link rel="prefetch" href="/web-javascript/assets/js/169.140deeb7.js"><link rel="prefetch" href="/web-javascript/assets/js/17.693871c7.js"><link rel="prefetch" href="/web-javascript/assets/js/170.ab47fa84.js"><link rel="prefetch" href="/web-javascript/assets/js/171.4588abd5.js"><link rel="prefetch" href="/web-javascript/assets/js/172.060bec6a.js"><link rel="prefetch" href="/web-javascript/assets/js/173.ec907150.js"><link rel="prefetch" href="/web-javascript/assets/js/174.8ad9ad9c.js"><link rel="prefetch" href="/web-javascript/assets/js/175.83197346.js"><link rel="prefetch" href="/web-javascript/assets/js/176.cb9aa1e5.js"><link rel="prefetch" href="/web-javascript/assets/js/177.785a22fe.js"><link rel="prefetch" href="/web-javascript/assets/js/178.9dfc5fe3.js"><link rel="prefetch" href="/web-javascript/assets/js/179.31aa0b76.js"><link rel="prefetch" href="/web-javascript/assets/js/180.e6f30fba.js"><link rel="prefetch" href="/web-javascript/assets/js/181.eab669b3.js"><link rel="prefetch" href="/web-javascript/assets/js/182.c1c2a48f.js"><link rel="prefetch" href="/web-javascript/assets/js/183.1bc7579b.js"><link rel="prefetch" href="/web-javascript/assets/js/184.17032d30.js"><link rel="prefetch" href="/web-javascript/assets/js/185.eea88a4e.js"><link rel="prefetch" href="/web-javascript/assets/js/186.3431be74.js"><link rel="prefetch" href="/web-javascript/assets/js/187.8c5e9946.js"><link rel="prefetch" href="/web-javascript/assets/js/188.3c166483.js"><link rel="prefetch" href="/web-javascript/assets/js/189.5a39c173.js"><link rel="prefetch" href="/web-javascript/assets/js/19.a929294c.js"><link rel="prefetch" href="/web-javascript/assets/js/190.7205d249.js"><link rel="prefetch" href="/web-javascript/assets/js/191.57bd7491.js"><link rel="prefetch" href="/web-javascript/assets/js/192.7f6e6806.js"><link rel="prefetch" href="/web-javascript/assets/js/193.1e921039.js"><link rel="prefetch" href="/web-javascript/assets/js/20.ec24bdb4.js"><link rel="prefetch" href="/web-javascript/assets/js/21.d63549bc.js"><link rel="prefetch" href="/web-javascript/assets/js/22.d084f31d.js"><link rel="prefetch" href="/web-javascript/assets/js/23.bd7a87b8.js"><link rel="prefetch" href="/web-javascript/assets/js/24.c74b986a.js"><link rel="prefetch" href="/web-javascript/assets/js/25.e8fe43b9.js"><link rel="prefetch" href="/web-javascript/assets/js/26.912c137e.js"><link rel="prefetch" href="/web-javascript/assets/js/27.01359b80.js"><link rel="prefetch" href="/web-javascript/assets/js/28.185ccc50.js"><link rel="prefetch" href="/web-javascript/assets/js/29.1aee186c.js"><link rel="prefetch" href="/web-javascript/assets/js/30.95d57cbb.js"><link rel="prefetch" href="/web-javascript/assets/js/31.dc46ee65.js"><link rel="prefetch" href="/web-javascript/assets/js/32.4125cd77.js"><link rel="prefetch" href="/web-javascript/assets/js/33.6faae56f.js"><link rel="prefetch" href="/web-javascript/assets/js/34.c90bed6b.js"><link rel="prefetch" href="/web-javascript/assets/js/35.b0daa30b.js"><link rel="prefetch" href="/web-javascript/assets/js/36.5478a54e.js"><link rel="prefetch" href="/web-javascript/assets/js/37.817d7b66.js"><link rel="prefetch" href="/web-javascript/assets/js/38.a3199d1f.js"><link rel="prefetch" href="/web-javascript/assets/js/39.eba15917.js"><link rel="prefetch" href="/web-javascript/assets/js/4.981ac68c.js"><link rel="prefetch" href="/web-javascript/assets/js/40.a860f82b.js"><link rel="prefetch" href="/web-javascript/assets/js/41.2c4b6912.js"><link rel="prefetch" href="/web-javascript/assets/js/42.a5189b82.js"><link rel="prefetch" href="/web-javascript/assets/js/43.5b345feb.js"><link rel="prefetch" href="/web-javascript/assets/js/44.bae0476f.js"><link rel="prefetch" href="/web-javascript/assets/js/45.b9333c7b.js"><link rel="prefetch" href="/web-javascript/assets/js/46.89211acd.js"><link rel="prefetch" href="/web-javascript/assets/js/47.3fcae11f.js"><link rel="prefetch" href="/web-javascript/assets/js/48.1edc97da.js"><link rel="prefetch" href="/web-javascript/assets/js/49.8a61149f.js"><link rel="prefetch" href="/web-javascript/assets/js/5.792aefb7.js"><link rel="prefetch" href="/web-javascript/assets/js/50.18f2e341.js"><link rel="prefetch" href="/web-javascript/assets/js/51.13272cd6.js"><link rel="prefetch" href="/web-javascript/assets/js/52.6599f277.js"><link rel="prefetch" href="/web-javascript/assets/js/53.9f3788aa.js"><link rel="prefetch" href="/web-javascript/assets/js/54.9639df49.js"><link rel="prefetch" href="/web-javascript/assets/js/55.22d27f82.js"><link rel="prefetch" href="/web-javascript/assets/js/56.49b19dc3.js"><link rel="prefetch" href="/web-javascript/assets/js/57.3cdad42a.js"><link rel="prefetch" href="/web-javascript/assets/js/58.1afd225f.js"><link rel="prefetch" href="/web-javascript/assets/js/59.0c584c63.js"><link rel="prefetch" href="/web-javascript/assets/js/60.039cba37.js"><link rel="prefetch" href="/web-javascript/assets/js/61.0cd46f6e.js"><link rel="prefetch" href="/web-javascript/assets/js/62.a254fdfc.js"><link rel="prefetch" href="/web-javascript/assets/js/63.9c8eb40f.js"><link rel="prefetch" href="/web-javascript/assets/js/64.b0dec0ae.js"><link rel="prefetch" href="/web-javascript/assets/js/65.4955546b.js"><link rel="prefetch" href="/web-javascript/assets/js/66.7fc14e88.js"><link rel="prefetch" href="/web-javascript/assets/js/67.3adef651.js"><link rel="prefetch" href="/web-javascript/assets/js/68.148d4516.js"><link rel="prefetch" href="/web-javascript/assets/js/69.caa0b77e.js"><link rel="prefetch" href="/web-javascript/assets/js/7.afa77f40.js"><link rel="prefetch" href="/web-javascript/assets/js/70.743f5a35.js"><link rel="prefetch" href="/web-javascript/assets/js/71.fd9b875b.js"><link rel="prefetch" href="/web-javascript/assets/js/72.2a1940b9.js"><link rel="prefetch" href="/web-javascript/assets/js/73.0835e0f9.js"><link rel="prefetch" href="/web-javascript/assets/js/74.21d8059a.js"><link rel="prefetch" href="/web-javascript/assets/js/75.caf15e4b.js"><link rel="prefetch" href="/web-javascript/assets/js/76.ab65ce02.js"><link rel="prefetch" href="/web-javascript/assets/js/77.5dddf6a1.js"><link rel="prefetch" href="/web-javascript/assets/js/78.57fad0f2.js"><link rel="prefetch" href="/web-javascript/assets/js/79.df8902e1.js"><link rel="prefetch" href="/web-javascript/assets/js/8.49b39b40.js"><link rel="prefetch" href="/web-javascript/assets/js/80.bade1611.js"><link rel="prefetch" href="/web-javascript/assets/js/81.09e376d6.js"><link rel="prefetch" href="/web-javascript/assets/js/82.ec4924a9.js"><link rel="prefetch" href="/web-javascript/assets/js/83.e3fd09f3.js"><link rel="prefetch" href="/web-javascript/assets/js/84.0ba30ca2.js"><link rel="prefetch" href="/web-javascript/assets/js/85.d5712679.js"><link rel="prefetch" href="/web-javascript/assets/js/86.96da39e7.js"><link rel="prefetch" href="/web-javascript/assets/js/87.5c5f3520.js"><link rel="prefetch" href="/web-javascript/assets/js/88.85f677e5.js"><link rel="prefetch" href="/web-javascript/assets/js/89.b4e3465d.js"><link rel="prefetch" href="/web-javascript/assets/js/9.a6ec67f3.js"><link rel="prefetch" href="/web-javascript/assets/js/90.d969980b.js"><link rel="prefetch" href="/web-javascript/assets/js/91.dfa740a5.js"><link rel="prefetch" href="/web-javascript/assets/js/92.a807413f.js"><link rel="prefetch" href="/web-javascript/assets/js/93.ed6b9e19.js"><link rel="prefetch" href="/web-javascript/assets/js/94.c0d97b2c.js"><link rel="prefetch" href="/web-javascript/assets/js/95.a9ed630c.js"><link rel="prefetch" href="/web-javascript/assets/js/96.d9d2a03d.js"><link rel="prefetch" href="/web-javascript/assets/js/97.abae11f5.js"><link rel="prefetch" href="/web-javascript/assets/js/98.e8781e5b.js"><link rel="prefetch" href="/web-javascript/assets/js/99.886f18de.js"><link rel="prefetch" href="/web-javascript/assets/js/vendors~flowchart.ed6a2ace.js">
    <link rel="stylesheet" href="/web-javascript/assets/css/0.styles.b166fd3a.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/web-javascript/" class="home-link router-link-active"><!----> <span class="site-name">JavaScript学习笔记</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="基础知识" class="dropdown-title"><span class="title">基础知识</span> <span class="arrow down"></span></button> <button type="button" aria-label="基础知识" class="mobile-dropdown-title"><span class="title">基础知识</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/web-javascript/1.base/1.ECMAScript/1.index.html" class="nav-link">
  一.ECMAScript
</a></li><li class="dropdown-item"><!----> <a href="/web-javascript/1.base/2.ECMAScript6/1.index.html" class="nav-link">
  二.ECMAScript6
</a></li><li class="dropdown-item"><!----> <a href="/web-javascript/1.base/3.JavaScript/1.index.html" class="nav-link">
  三.JavaScript
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="中级知识" class="dropdown-title"><span class="title">中级知识</span> <span class="arrow down"></span></button> <button type="button" aria-label="中级知识" class="mobile-dropdown-title"><span class="title">中级知识</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/web-javascript/2.advanced/2.js/1.index.html" class="nav-link">
  一.运行机制
</a></li><li class="dropdown-item"><!----> <a href="/web-javascript/2.advanced/3.type/1.index.html" class="nav-link">
  二.数据类型
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="专项知识" class="dropdown-title"><span class="title">专项知识</span> <span class="arrow down"></span></button> <button type="button" aria-label="专项知识" class="mobile-dropdown-title"><span class="title">专项知识</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/web-javascript/3.senior/2.design/1.index.html" class="nav-link">
  一.设计模式
</a></li><li class="dropdown-item"><!----> <a href="/web-javascript/3.senior/5.optimize/1.index.html" class="nav-link">
  二.性能优化
</a></li><li class="dropdown-item"><!----> <a href="/web-javascript/3.senior/6.debugger/1.index.html" class="nav-link">
  三.前端调试
</a></li><li class="dropdown-item"><!----> <a href="/web-javascript/3.senior/7.cross/1.index.html" class="nav-link">
  四.跨域方式
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="JavaScript引擎" class="dropdown-title"><span class="title">JavaScript引擎</span> <span class="arrow down"></span></button> <button type="button" aria-label="JavaScript引擎" class="mobile-dropdown-title"><span class="title">JavaScript引擎</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/web-javascript/6.source/1.promise/1.index.html" class="nav-link">
  一.JavaScriptCore
</a></li><li class="dropdown-item"><!----> <a href="/web-javascript/6.source/browser/1.index.html" class="nav-link">
  二.V8
</a></li><li class="dropdown-item"><!----> <a href="/web-javascript/6.source/api/1.index.html" class="nav-link">
  三.SpiderMonkey
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端工程化" class="dropdown-title"><span class="title">前端工程化</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端工程化" class="mobile-dropdown-title"><span class="title">前端工程化</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/web-javascript/4.special/1.cli/1.index.html" class="nav-link">
  一.工程化基础
</a></li><li class="dropdown-item"><!----> <a href="/web-javascript/4.special/3.dev/1.index.html" class="nav-link">
  三.开发
</a></li><li class="dropdown-item"><!----> <a href="/web-javascript/4.special/4.construct/1.index.html" class="nav-link">
  四.构建
</a></li><li class="dropdown-item"><!----> <a href="/web-javascript/4.special/5.project/1.index.html" class="nav-link">
  五.开发流程
</a></li><li class="dropdown-item"><!----> <a href="/web-javascript/4.special/5.standard/1.index.html" class="nav-link">
  五.代码规范
</a></li><li class="dropdown-item"><!----> <a href="/web-javascript/4.special/6.test/1.index.html" class="nav-link">
  六.前端测试
</a></li><li class="dropdown-item"><!----> <a href="/web-javascript/4.special/7.cicd/1.index.html" class="nav-link">
  七.CI/CD
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="书籍资料" class="dropdown-title"><span class="title">书籍资料</span> <span class="arrow down"></span></button> <button type="button" aria-label="书籍资料" class="mobile-dropdown-title"><span class="title">书籍资料</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/web-javascript/7.read/book1/1.index.html" class="nav-link">
  一.《JavaScript高级程序设计（第4版）》
</a></li><li class="dropdown-item"><!----> <a href="/web-javascript/7.read/book2/1.index.html" class="nav-link">
  二.《JavaScript DOM编程艺术》
</a></li><li class="dropdown-item"><!----> <a href="/web-javascript/7.read/book3/1.index.html" class="nav-link">
  三.《你不知道的JavaScript》
</a></li><li class="dropdown-item"><!----> <a href="/web-javascript/7.read/book4/1.index.html" class="nav-link">
  四.《JavaScript设计模式与开发实践》
</a></li><li class="dropdown-item"><!----> <a href="/web-javascript/7.read/book5/1.index.html" class="nav-link">
  五.《高性能JavaScript》
</a></li></ul></div></div> <a href="https://github.com/zhoubichuan/web-javascript" target="_blank" rel="noopener noreferrer" class="repo-link">
    查看源码
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="基础知识" class="dropdown-title"><span class="title">基础知识</span> <span class="arrow down"></span></button> <button type="button" aria-label="基础知识" class="mobile-dropdown-title"><span class="title">基础知识</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/web-javascript/1.base/1.ECMAScript/1.index.html" class="nav-link">
  一.ECMAScript
</a></li><li class="dropdown-item"><!----> <a href="/web-javascript/1.base/2.ECMAScript6/1.index.html" class="nav-link">
  二.ECMAScript6
</a></li><li class="dropdown-item"><!----> <a href="/web-javascript/1.base/3.JavaScript/1.index.html" class="nav-link">
  三.JavaScript
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="中级知识" class="dropdown-title"><span class="title">中级知识</span> <span class="arrow down"></span></button> <button type="button" aria-label="中级知识" class="mobile-dropdown-title"><span class="title">中级知识</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/web-javascript/2.advanced/2.js/1.index.html" class="nav-link">
  一.运行机制
</a></li><li class="dropdown-item"><!----> <a href="/web-javascript/2.advanced/3.type/1.index.html" class="nav-link">
  二.数据类型
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="专项知识" class="dropdown-title"><span class="title">专项知识</span> <span class="arrow down"></span></button> <button type="button" aria-label="专项知识" class="mobile-dropdown-title"><span class="title">专项知识</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/web-javascript/3.senior/2.design/1.index.html" class="nav-link">
  一.设计模式
</a></li><li class="dropdown-item"><!----> <a href="/web-javascript/3.senior/5.optimize/1.index.html" class="nav-link">
  二.性能优化
</a></li><li class="dropdown-item"><!----> <a href="/web-javascript/3.senior/6.debugger/1.index.html" class="nav-link">
  三.前端调试
</a></li><li class="dropdown-item"><!----> <a href="/web-javascript/3.senior/7.cross/1.index.html" class="nav-link">
  四.跨域方式
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="JavaScript引擎" class="dropdown-title"><span class="title">JavaScript引擎</span> <span class="arrow down"></span></button> <button type="button" aria-label="JavaScript引擎" class="mobile-dropdown-title"><span class="title">JavaScript引擎</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/web-javascript/6.source/1.promise/1.index.html" class="nav-link">
  一.JavaScriptCore
</a></li><li class="dropdown-item"><!----> <a href="/web-javascript/6.source/browser/1.index.html" class="nav-link">
  二.V8
</a></li><li class="dropdown-item"><!----> <a href="/web-javascript/6.source/api/1.index.html" class="nav-link">
  三.SpiderMonkey
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端工程化" class="dropdown-title"><span class="title">前端工程化</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端工程化" class="mobile-dropdown-title"><span class="title">前端工程化</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/web-javascript/4.special/1.cli/1.index.html" class="nav-link">
  一.工程化基础
</a></li><li class="dropdown-item"><!----> <a href="/web-javascript/4.special/3.dev/1.index.html" class="nav-link">
  三.开发
</a></li><li class="dropdown-item"><!----> <a href="/web-javascript/4.special/4.construct/1.index.html" class="nav-link">
  四.构建
</a></li><li class="dropdown-item"><!----> <a href="/web-javascript/4.special/5.project/1.index.html" class="nav-link">
  五.开发流程
</a></li><li class="dropdown-item"><!----> <a href="/web-javascript/4.special/5.standard/1.index.html" class="nav-link">
  五.代码规范
</a></li><li class="dropdown-item"><!----> <a href="/web-javascript/4.special/6.test/1.index.html" class="nav-link">
  六.前端测试
</a></li><li class="dropdown-item"><!----> <a href="/web-javascript/4.special/7.cicd/1.index.html" class="nav-link">
  七.CI/CD
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="书籍资料" class="dropdown-title"><span class="title">书籍资料</span> <span class="arrow down"></span></button> <button type="button" aria-label="书籍资料" class="mobile-dropdown-title"><span class="title">书籍资料</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/web-javascript/7.read/book1/1.index.html" class="nav-link">
  一.《JavaScript高级程序设计（第4版）》
</a></li><li class="dropdown-item"><!----> <a href="/web-javascript/7.read/book2/1.index.html" class="nav-link">
  二.《JavaScript DOM编程艺术》
</a></li><li class="dropdown-item"><!----> <a href="/web-javascript/7.read/book3/1.index.html" class="nav-link">
  三.《你不知道的JavaScript》
</a></li><li class="dropdown-item"><!----> <a href="/web-javascript/7.read/book4/1.index.html" class="nav-link">
  四.《JavaScript设计模式与开发实践》
</a></li><li class="dropdown-item"><!----> <a href="/web-javascript/7.read/book5/1.index.html" class="nav-link">
  五.《高性能JavaScript》
</a></li></ul></div></div> <a href="https://github.com/zhoubichuan/web-javascript" target="_blank" rel="noopener noreferrer" class="repo-link">
    查看源码
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/web-javascript/2.advanced/3.type/1.index.html" class="sidebar-link">数据类型</a></li><li><a href="/web-javascript/2.advanced/3.type/1.number.html" class="sidebar-link">一.数据分类[Number]</a></li><li><a href="/web-javascript/2.advanced/3.type/2.string.html" class="sidebar-link">二.数据分类[String]</a></li><li><a href="/web-javascript/2.advanced/3.type/3.boolean.html" class="sidebar-link">三.数据分类[Boolean]</a></li><li><a href="/web-javascript/2.advanced/3.type/4.undefined.html" class="sidebar-link">四.数据分类[Undefined]</a></li><li><a href="/web-javascript/2.advanced/3.type/5.null.html" class="sidebar-link">五.数据分类[Null]</a></li><li><a href="/web-javascript/2.advanced/3.type/6.symbol.html" class="sidebar-link">六.数据分类[Symbol]</a></li><li><a href="/web-javascript/2.advanced/3.type/7.object.html" class="sidebar-link">七.数据分类[Object]</a></li><li><a href="/web-javascript/2.advanced/3.type/8.array.html" class="sidebar-link">八.数据分类[Array]</a></li><li><a href="/web-javascript/2.advanced/3.type/9.function.html" aria-current="page" class="active sidebar-link">九.数据分类[Function]</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/web-javascript/2.advanced/3.type/9.function.html#_1-原型" class="sidebar-link">1.原型</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/web-javascript/2.advanced/3.type/9.function.html#_1-1-apply" class="sidebar-link">1.1 apply</a></li><li class="sidebar-sub-header"><a href="/web-javascript/2.advanced/3.type/9.function.html#_1-2-arguments" class="sidebar-link">1.2 arguments</a></li><li class="sidebar-sub-header"><a href="/web-javascript/2.advanced/3.type/9.function.html#_1-3-bind" class="sidebar-link">1.3 bind</a></li><li class="sidebar-sub-header"><a href="/web-javascript/2.advanced/3.type/9.function.html#_1-4-call" class="sidebar-link">1.4 call</a></li><li class="sidebar-sub-header"><a href="/web-javascript/2.advanced/3.type/9.function.html#_1-5-caller" class="sidebar-link">1.5 caller</a></li><li class="sidebar-sub-header"><a href="/web-javascript/2.advanced/3.type/9.function.html#_1-6-constructor" class="sidebar-link">1.6 constructor</a></li><li class="sidebar-sub-header"><a href="/web-javascript/2.advanced/3.type/9.function.html#_1-7-length" class="sidebar-link">1.7 length</a></li><li class="sidebar-sub-header"><a href="/web-javascript/2.advanced/3.type/9.function.html#_1-8-name" class="sidebar-link">1.8 name</a></li><li class="sidebar-sub-header"><a href="/web-javascript/2.advanced/3.type/9.function.html#_1-9-tostring" class="sidebar-link">1.9 toString</a></li><li class="sidebar-sub-header"><a href="/web-javascript/2.advanced/3.type/9.function.html#_1-10-symbol" class="sidebar-link">1.10 Symbol</a></li><li class="sidebar-sub-header"><a href="/web-javascript/2.advanced/3.type/9.function.html#_2-原型链" class="sidebar-link">2.原型链</a></li></ul></li><li class="sidebar-sub-header"><a href="/web-javascript/2.advanced/3.type/9.function.html#_2-继承" class="sidebar-link">2.继承</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/web-javascript/2.advanced/3.type/9.function.html#_1-原型链继承" class="sidebar-link">1.原型链继承</a></li><li class="sidebar-sub-header"><a href="/web-javascript/2.advanced/3.type/9.function.html#_2-构造函数继承" class="sidebar-link">2.构造函数继承</a></li><li class="sidebar-sub-header"><a href="/web-javascript/2.advanced/3.type/9.function.html#_3-组合继承" class="sidebar-link">3.组合继承</a></li><li class="sidebar-sub-header"><a href="/web-javascript/2.advanced/3.type/9.function.html#_4-原型式继承" class="sidebar-link">4.原型式继承</a></li><li class="sidebar-sub-header"><a href="/web-javascript/2.advanced/3.type/9.function.html#_5-寄生式继承" class="sidebar-link">5.寄生式继承</a></li><li class="sidebar-sub-header"><a href="/web-javascript/2.advanced/3.type/9.function.html#_6-寄生组合式继承" class="sidebar-link">6.寄生组合式继承</a></li><li class="sidebar-sub-header"><a href="/web-javascript/2.advanced/3.type/9.function.html#_7-混入方式继承" class="sidebar-link">7.混入方式继承</a></li><li class="sidebar-sub-header"><a href="/web-javascript/2.advanced/3.type/9.function.html#_8-es6-类继承-extends" class="sidebar-link">8.ES6 类继承 extends</a></li></ul></li></ul></li><li><a href="/web-javascript/2.advanced/3.type/10.judge.html" class="sidebar-link">十.数据判断</a></li><li><a href="/web-javascript/2.advanced/3.type/11.transform.html" class="sidebar-link">十一.数据转换</a></li><li><a href="/web-javascript/2.advanced/3.type/12.copy.html" class="sidebar-link">十二.数据拷贝</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="九-数据分类-function"><a href="#九-数据分类-function" class="header-anchor">#</a> 九.数据分类[Function]</h1> <h2 id="_1-原型"><a href="#_1-原型" class="header-anchor">#</a> 1.原型</h2> <p>每个对象初始化时会生成一个默认的属性，这个属性就是原型，当在这个对象上查找某个属性时，会先在这个对象本身查找这个属性，没有找到就会去原型上查找，原型内部有原型，没有找到依次向内部找属性，这样形成的链状结构我们称为原型链，原型链的顶层是 null</p> <div class="custom-block tip"><p class="custom-block-title">函数原型上的一些方法</p> <ul><li>apply: function()</li> <li>arguments: TypeError: 'arguments', 'callee', and 'caller' cannot be accessed in this context.</li> <li>bind: function()</li> <li>call: function()</li> <li>caller: TypeError: 'arguments', 'callee', and 'caller' cannot be accessed in this context.</li> <li>constructor: function()</li> <li>length: 0</li> <li>name: &quot;&quot;</li> <li>toString: function()</li> <li>Symbol(Symbol.hasInstance): function()</li></ul></div> <p><img src="/web-javascript/assets/img/3.656d330d.png" alt=""></p> <ul><li>1.对象</li></ul> <p>对象 Object 即是对象也是函数，访问函数的原型(prototype) 得到一个对象 Object.prototype,这个对象的原型(__proto__)可以访问到对象的根 null；访问对象的原型(__proto__)可以得到一个对象 Function.prototype，访问这个对象的原型(__proto__)可以得到 Object.prototype</p> <p>实例化对象（{}）是一个对象,他的原型(__proto__)指向 Object 函数的 prototype，即 Object.prototype</p> <ul><li>2.函数</li></ul> <p>函数 Function 即是一个对象也是一个函数，访问函数原型(prototype)得到一个对象 Function.prototype，这个对象的原型(__proto__)指向 Object.prototype;Function 对象的原型(__proto__)指向 Function.prototype</p> <ul><li>3.自定义函数</li></ul> <p>函数 Function 即是一个对象也是一个函数，访问函数原型(prototype)得到一个对象 Function.prototype，这个对象的原型(__proto__)指向 Object.prototype;Function 对象的原型(__proto__)指向 Function.prototype</p> <h3 id="_1-1-apply"><a href="#_1-1-apply" class="header-anchor">#</a> 1.1 apply</h3> <ul><li>模拟 apply</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token class-name">Function</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">apply</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">context<span class="token punctuation">,</span> args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  context <span class="token operator">=</span> context <span class="token operator">?</span> <span class="token function">Object</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span> <span class="token operator">:</span> window
  context<span class="token punctuation">.</span>fn <span class="token operator">=</span> <span class="token keyword">this</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> context<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token comment">//利用数组的toString的特性（字符串和数组拼接）</span>
  <span class="token keyword">let</span> r <span class="token operator">=</span> <span class="token function">eval</span><span class="token punctuation">(</span><span class="token string">&quot;context.fn(&quot;</span> <span class="token operator">+</span> args <span class="token operator">+</span> <span class="token string">&quot;)&quot;</span><span class="token punctuation">)</span>
  <span class="token keyword">delete</span> context<span class="token punctuation">.</span>fn
  <span class="token keyword">return</span> r
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">fn1</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="_1-2-arguments"><a href="#_1-2-arguments" class="header-anchor">#</a> 1.2 arguments</h3> <p>函数中参数的传递方式</p> <p>首先看一道题目</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token parameter">person</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  person<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">26</span>
  person <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;yyy&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">30</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">return</span> person
<span class="token punctuation">}</span>
<span class="token keyword">const</span> p1 <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;yck&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">25</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> p2 <span class="token operator">=</span> <span class="token function">test</span><span class="token punctuation">(</span>p1<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p1<span class="token punctuation">)</span> <span class="token comment">// -&gt; ?</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p2<span class="token punctuation">)</span> <span class="token comment">// -&gt; ?</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h4 id="对于以上的结果你知道吗"><a href="#对于以上的结果你知道吗" class="header-anchor">#</a> 对于以上的结果你知道吗？</h4> <ul><li>首先，函数传参是传递对象指针的副本</li> <li>然后 p1 的值被修改了</li> <li>但是当我们重新为 person 分配了一个对象时就出现了分歧
<img src="https://zhoubichuan.github.io/Note-Frontend/2.stand/2.W3C/3.JavaScript/%E5%87%BD%E6%95%B0%E4%BC%A0%E9%80%92%E5%8F%82%E6%95%B0.png" alt=""></li> <li>这是 person 指针会指向重新赋值的值，所以可以知道 js 中函数赋值操作是共享赋值</li></ul> <h3 id="_1-3-bind"><a href="#_1-3-bind" class="header-anchor">#</a> 1.3 bind</h3> <ul><li><p>bind 实现原理</p></li> <li><p>1.bind 方法可以绑定 this 指向 绑定参数</p></li> <li><p>2.bind 方法返回一个绑定后的函数（高阶函数）</p></li> <li><p>3.如果绑定的函数被 new 了 当前函数的 this 就是当前的实例</p></li> <li><p>4.new 出来的结果可以找到原有类的原型</p></li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token class-name">Function</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">bind</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">context</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> that <span class="token operator">=</span> <span class="token keyword">this</span>
  <span class="token keyword">let</span> bindArgs <span class="token operator">=</span> <span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>arguments<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
  <span class="token keyword">function</span> <span class="token function">Fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token keyword">function</span> <span class="token function">fBound</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> args <span class="token operator">=</span> <span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token function">that</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token keyword">instanceof</span> <span class="token class-name">fBound</span> <span class="token operator">?</span> <span class="token keyword">this</span> <span class="token operator">:</span> context<span class="token punctuation">,</span> bindArgs<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token class-name">Fn</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>prototype
  fBound<span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> fBound
<span class="token punctuation">}</span>
fn<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>flag <span class="token operator">=</span> <span class="token string">&quot;动物类&quot;</span>
<span class="token keyword">let</span> bindFn <span class="token operator">=</span> <span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token string">&quot;猫&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> instance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">bindFn</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h3 id="_1-4-call"><a href="#_1-4-call" class="header-anchor">#</a> 1.4 call</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;123&quot;</span> <span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//--&gt;this--&gt;window</span>
<span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span>

<span class="token class-name">Function</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">myCall</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">context</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">//1、将fn中的this变成obj</span>
  <span class="token function">eval</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">&quot;this&quot;</span><span class="token punctuation">,</span> context<span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token comment">//2、让fn方法执行</span>
<span class="token punctuation">}</span>
fn<span class="token punctuation">.</span><span class="token function">myCall</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">/* 思考题 */</span>
<span class="token keyword">function</span> <span class="token function">fn1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">fn2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">fn1</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>fn2<span class="token punctuation">)</span> <span class="token comment">//--&gt;1</span>

fn1<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>fn2<span class="token punctuation">)</span> <span class="token comment">//fn1.call 首先通过原型链找到Function.prototype上的call方法，然后再让call方法通过原型找到Function原型上的call（因为call本身的值也是一个函数，所以可以找到Function.prototype）,在第二次找到call的时候让方法执行，方法中的this</span>

<span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//--&gt;window 严格模式下window</span>
<span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token comment">//--&gt;window 严格模式下null</span>
<span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token comment">//--&gt;window 严格模式下undefined</span>

<span class="token comment">//apply和call方法的作用是一模一样的，都是用来改变方法的this关键字并且把方法执行：而且在严格模式下和非严格模式下对于第一个参数是null/underfined这种情况的规律也是一样的</span>
<span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span>
<span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">//--&gt;call在给fn传递参数的时候，是一个个的传递值得，而apply不是一个个传，而是把要给fn传递的参数统一的放在一个数组中进行操作--》但是也相当于一个个的给fn形参赋值</span>

<span class="token comment">//bind:这个方法在ie6-8下不兼容--&gt;和call/apply类似都是用来改变this关键字的</span>

<span class="token comment">//预处理：事先把fn的this改变为我们想要的结果，并且把对应的参数值也准备好，以后要用到了，直接的执行即可</span>
<span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment">//改变this和执行fn函数是一起都完成了</span>
<span class="token keyword">var</span> tempFn <span class="token operator">=</span> <span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment">//只是改变了fn中的this为obj，并且给fn传递了两个参数值1、2，但是此时并没有把fn这个函数执行,执行bind会有一个返回值，这个返回值tempFnv就是我们把fn的this改变后的那个结果</span>
<span class="token function">tempFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/* 获取数组的最大值 */</span>
<span class="token keyword">var</span> ary <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">32</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">43</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">23</span><span class="token punctuation">,</span> <span class="token number">43</span><span class="token punctuation">]</span>
<span class="token comment">//1</span>
<span class="token keyword">var</span> sum <span class="token operator">=</span> ary<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> a <span class="token operator">-</span> b
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> min <span class="token operator">=</span> sum<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
<span class="token keyword">var</span> max <span class="token operator">=</span> sum<span class="token punctuation">[</span>sum<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span>
<span class="token comment">//2</span>
<span class="token keyword">var</span> min <span class="token operator">=</span> ary<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
<span class="token keyword">var</span> max <span class="token operator">=</span> ary<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> ary<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  ary<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;</span> min <span class="token operator">?</span> <span class="token punctuation">(</span>min <span class="token operator">=</span> ary<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token keyword">null</span>
  ary<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&gt;</span> max <span class="token operator">?</span> <span class="token punctuation">(</span>max <span class="token operator">=</span> ary<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token keyword">null</span>
<span class="token punctuation">}</span>
<span class="token comment">//3</span>
<span class="token keyword">var</span> min <span class="token operator">=</span> <span class="token function">eval</span><span class="token punctuation">(</span><span class="token string">&quot;Math.min(&quot;</span> <span class="token operator">+</span> ary<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;)&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> max <span class="token operator">=</span> <span class="token function">eval</span><span class="token punctuation">(</span><span class="token string">&quot;Math.max(&quot;</span> <span class="token operator">+</span> ary<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;)&quot;</span><span class="token punctuation">)</span>

<span class="token comment">//4</span>
<span class="token keyword">var</span> max <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> ary<span class="token punctuation">)</span>
<span class="token keyword">var</span> min <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> ary<span class="token punctuation">)</span>
<span class="token comment">//6--&gt;括号表达式</span>
<span class="token keyword">function</span> <span class="token function">fn1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">fn2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token punctuation">;</span><span class="token punctuation">(</span>fn1<span class="token punctuation">,</span> fn2<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span>
  <span class="token comment">//只有fn2执行了 （x1,x2,x3）括号表达式，一个括号中出现多项内容，中间用“，”隔开，但是我们最后获取到的结果只有最后一项</span>
  fn2<span class="token punctuation">,</span>
  obj<span class="token punctuation">.</span>fn
<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span>
  <span class="token comment">//执行的是obj.fn，但是执行的时候里面的this变为了window而不是obj</span>
  obj<span class="token punctuation">.</span>fn
<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//this还是obj</span>

<span class="token comment">/* 获取平均数 */</span>
<span class="token keyword">function</span> <span class="token function">avgFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">//将类数组转换为数组</span>
  <span class="token comment">// var ary = []</span>
  <span class="token comment">// for(var i = 0;i&lt;arguments.length;i++){</span>
  <span class="token comment">//   ary[ary.length] = arguments[i]</span>
  <span class="token comment">// }</span>
  <span class="token comment">// ary.sort(function(a,b){</span>
  <span class="token comment">//   return a-b</span>
  <span class="token comment">// })</span>
  <span class="token keyword">var</span> ary <span class="token operator">=</span> <span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span>
  <span class="token comment">//或者ary = [].slice.apply(arguments)</span>
<span class="token punctuation">}</span>
ary<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
ary<span class="token punctuation">.</span><span class="token function">unshift</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token function">eval</span><span class="token punctuation">(</span>ary<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">&quot;+&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">/</span> ary<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>

<span class="token comment">//2种方法</span>
<span class="token keyword">function</span> <span class="token function">avgFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>arguments<span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> a <span class="token operator">-</span> b
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">;</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span>
  <span class="token punctuation">;</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span>
  <span class="token keyword">return</span> <span class="token function">eval</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>arguments<span class="token punctuation">,</span> <span class="token string">&quot;+&quot;</span><span class="token punctuation">)</span> <span class="token operator">/</span> arguments<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br></div></div><ul><li>模拟 call</li></ul> <p>call 的特点：</p> <ul><li>可以改变我们当前函数的 this 指向</li> <li>会让当前函数执行</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token class-name">Function</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">call</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">context</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  context <span class="token operator">=</span> context <span class="token operator">?</span> <span class="token function">Object</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span> <span class="token operator">:</span> window
  context<span class="token punctuation">.</span>fn <span class="token operator">=</span> <span class="token keyword">this</span>
  <span class="token keyword">let</span> args <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arguments<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    args<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">&quot;arguments[&quot;</span> <span class="token operator">+</span> i <span class="token operator">+</span> <span class="token string">&quot;]&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token comment">//利用数组的toString的特性（字符串和数组拼接）</span>
  <span class="token keyword">let</span> r <span class="token operator">=</span> <span class="token function">eval</span><span class="token punctuation">(</span><span class="token string">&quot;context.fn(&quot;</span> <span class="token operator">+</span> args <span class="token operator">+</span> <span class="token string">&quot;)&quot;</span><span class="token punctuation">)</span>
  <span class="token keyword">delete</span> context<span class="token punctuation">.</span>fn
  <span class="token keyword">return</span> r
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>调用</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">fn1</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>fn2<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>多个 call</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//多个call会指向window</span>
fn1<span class="token punctuation">.</span>call<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>fn2<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><code>new</code>的底层实现</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">_new</span><span class="token punctuation">(</span><span class="token parameter">fn<span class="token punctuation">,</span> <span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> obj <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>fn<span class="token punctuation">.</span>prototype<span class="token punctuation">)</span>
  <span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span>
  <span class="token keyword">return</span> obj
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="_1-5-caller"><a href="#_1-5-caller" class="header-anchor">#</a> 1.5 caller</h3> <h3 id="_1-6-constructor"><a href="#_1-6-constructor" class="header-anchor">#</a> 1.6 constructor</h3> <h3 id="_1-7-length"><a href="#_1-7-length" class="header-anchor">#</a> 1.7 length</h3> <h3 id="_1-8-name"><a href="#_1-8-name" class="header-anchor">#</a> 1.8 name</h3> <h3 id="_1-9-tostring"><a href="#_1-9-tostring" class="header-anchor">#</a> 1.9 toString</h3> <h3 id="_1-10-symbol"><a href="#_1-10-symbol" class="header-anchor">#</a> 1.10 Symbol</h3> <h3 id="_2-原型链"><a href="#_2-原型链" class="header-anchor">#</a> 2.原型链</h3> <p>JS 中的继承</p> <p>JavaScript 常用的八种继承</p> <h2 id="_2-继承"><a href="#_2-继承" class="header-anchor">#</a> 2.继承</h2> <h3 id="_1-原型链继承"><a href="#_1-原型链继承" class="header-anchor">#</a> 1.原型链继承</h3> <p>构造函数、原型和实例之间的关系：每个构造函数都有一个原型对象，原型对象都包含一个指向构造函数的指针，而实例都包含一个原型对象的指针。</p> <div class="language-js line-numbers-mode"><div class="highlight-lines"><br><br><br><br><br><br><br><br><br><div class="highlighted"> </div><br><br><br><br><br><br><br></div><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Parent</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>parentName <span class="token operator">=</span> <span class="token string">&quot;parent&quot;</span>
<span class="token punctuation">}</span>
<span class="token class-name">Parent</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">getParentName</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>parentName <span class="token operator">+</span> <span class="token number">1</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">Child</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>childName <span class="token operator">=</span> <span class="token string">&quot;child&quot;</span>
<span class="token punctuation">}</span>
<span class="token class-name">Child</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Parent</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 关键部分，需要先将子构造函数的指针指向父构造函数的实例</span>
<span class="token class-name">Child</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">getChildName</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>childName <span class="token operator">+</span> <span class="token number">1</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> child <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Child</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>child<span class="token punctuation">.</span>parentName<span class="token punctuation">)</span> <span class="token comment">//parent</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>child<span class="token punctuation">.</span><span class="token function">getParentName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//parent1</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><div class="custom-block tip"><p class="custom-block-title">优点</p> <ul><li>简单易实现，父类新增的实例与属性子类都能访问</li></ul></div> <div class="custom-block warning"><p class="custom-block-title">缺点</p> <ul><li>多个实例对引用类型的操作会被篡改</li> <li>无法实现多继承</li> <li>可以在子类中增加实例属性，如果要新增加原型属性和方法需要在 new 父类构造函数后面</li> <li>创建子类实例时，不能向父类构造函数中传递参数</li></ul></div> <div class="custom-block tip"><p class="custom-block-title">场景</p> <ul><li>vue 源码中构造子组件</li></ul></div> <h3 id="_2-构造函数继承"><a href="#_2-构造函数继承" class="header-anchor">#</a> 2.构造函数继承</h3> <div class="language-js line-numbers-mode"><div class="highlight-lines"><br><br><br><br><br><br><br><br><div class="highlighted"> </div><br><br><br><br><br><br><br><br></div><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Parent</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>parentName <span class="token operator">=</span> <span class="token string">&quot;parent&quot;</span>
<span class="token punctuation">}</span>
<span class="token class-name">Parent</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">getParentName</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>parentName <span class="token operator">+</span> <span class="token number">1</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">Child</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>childName <span class="token operator">=</span> <span class="token string">&quot;child&quot;</span>
  <span class="token function">Parent</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token class-name">Child</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">getChildName</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>childName <span class="token operator">+</span> <span class="token number">1</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> child <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Child</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>child<span class="token punctuation">.</span>parentName<span class="token punctuation">)</span> <span class="token comment">//parent</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>child<span class="token punctuation">.</span><span class="token function">getParentName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//child.getParentName is not a function</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><div class="custom-block tip"><p class="custom-block-title">优点</p> <ul><li>可以实现多继承（call 或者 apply 多个父类）</li> <li>解决了子类构造函数向父类构造函数中传递参数</li></ul></div> <div class="custom-block warning"><p class="custom-block-title">缺点</p> <ul><li>只能继承父类的实例属性，不能继承原型属性</li> <li>无法实现复用，每个子类都有父类构造函数的副本，影响性能</li></ul></div> <h3 id="_3-组合继承"><a href="#_3-组合继承" class="header-anchor">#</a> 3.组合继承</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Parent</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>parentName <span class="token operator">=</span> <span class="token string">&quot;parent&quot;</span>
<span class="token punctuation">}</span>
<span class="token class-name">Parent</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">getParentName</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>parentName <span class="token operator">+</span> <span class="token number">1</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">Child</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>childName <span class="token operator">=</span> <span class="token string">&quot;child&quot;</span>
  <span class="token function">Parent</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token class-name">Child</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Parent</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token class-name">Child</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">getChildName</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>childName <span class="token operator">+</span> <span class="token number">1</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> child <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Child</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token class-name">Child</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constructor <span class="token operator">=</span> Child
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>child<span class="token punctuation">.</span>parentName<span class="token punctuation">)</span> <span class="token comment">//parent</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>child<span class="token punctuation">.</span><span class="token function">getParentName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//parent1</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><div class="custom-block tip"><p class="custom-block-title">优点</p> <ul><li>可以继承父类原型上的属性，可以传参，可复用</li> <li>每个新实例引入的构造函数属性是私有的</li></ul></div> <div class="custom-block warning"><p class="custom-block-title">缺点</p> <ul><li>调用了两次父类构造函数（耗内存），子类的构造函数会代替原型上的那个父类构造函数</li></ul></div> <h3 id="_4-原型式继承"><a href="#_4-原型式继承" class="header-anchor">#</a> 4.原型式继承</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Parent</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>parentName <span class="token operator">=</span> <span class="token string">&quot;parent&quot;</span>
<span class="token punctuation">}</span>
<span class="token class-name">Parent</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">getParentName</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>parentName <span class="token operator">+</span> <span class="token number">1</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">object</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">function</span> <span class="token constant">F</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token class-name">F</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> obj
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">F</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> Child <span class="token operator">=</span> <span class="token function">object</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Parent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
Child<span class="token punctuation">.</span>childName <span class="token operator">=</span> <span class="token string">&quot;child&quot;</span>
Child<span class="token punctuation">.</span><span class="token function-variable function">getChildName</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>childName <span class="token operator">+</span> <span class="token number">1</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> child <span class="token operator">=</span> Child
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>child<span class="token punctuation">.</span>parentName<span class="token punctuation">)</span> <span class="token comment">//parent</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>child<span class="token punctuation">.</span><span class="token function">getParentName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//parent1</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><ul><li>缺点：原型链继承多个实列的引用类型属性执行相同，存在篡改的可能。</li></ul> <h3 id="_5-寄生式继承"><a href="#_5-寄生式继承" class="header-anchor">#</a> 5.寄生式继承</h3> <p>在原型式继承的基础上，增强对象，返回构造函数</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">createAnother</span><span class="token punctuation">(</span><span class="token parameter">original</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> clone <span class="token operator">=</span> <span class="token function">Object</span><span class="token punctuation">(</span>original<span class="token punctuation">)</span>
  clone<span class="token punctuation">.</span>childName <span class="token operator">=</span> <span class="token string">&quot;child&quot;</span>
  clone<span class="token punctuation">.</span><span class="token function-variable function">getChildName</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>childName <span class="token operator">+</span> <span class="token number">1</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> clone <span class="token comment">// 返回这个对象</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">Parent</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>parentName <span class="token operator">=</span> <span class="token string">&quot;parent&quot;</span>
<span class="token punctuation">}</span>
<span class="token class-name">Parent</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">getParentName</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>parentName <span class="token operator">+</span> <span class="token number">1</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> Child <span class="token operator">=</span> <span class="token function">createAnother</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Parent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> child <span class="token operator">=</span> Child
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>child<span class="token punctuation">.</span>parentName<span class="token punctuation">)</span> <span class="token comment">//parent</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>child<span class="token punctuation">.</span><span class="token function">getParentName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//parent1</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h3 id="_6-寄生组合式继承"><a href="#_6-寄生组合式继承" class="header-anchor">#</a> 6.寄生组合式继承</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">inheritPrototype</span><span class="token punctuation">(</span><span class="token parameter">c<span class="token punctuation">,</span> p</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> prototype <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span>prototype<span class="token punctuation">)</span>
  prototype<span class="token punctuation">.</span>constructor <span class="token operator">=</span> c
  c<span class="token punctuation">.</span>prototype <span class="token operator">=</span> prototype
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">Parent</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>parentName <span class="token operator">=</span> <span class="token string">&quot;parent&quot;</span>
<span class="token punctuation">}</span>
<span class="token class-name">Parent</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">getParentName</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>parentName <span class="token operator">+</span> <span class="token number">1</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">Child</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>childName <span class="token operator">=</span> <span class="token string">&quot;child&quot;</span>
  <span class="token function">Parent</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">// 将父类原型指向子类</span>
<span class="token function">inheritPrototype</span><span class="token punctuation">(</span>Child<span class="token punctuation">,</span> Parent<span class="token punctuation">)</span>
<span class="token class-name">Child</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">getChildName</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>childName <span class="token operator">+</span> <span class="token number">1</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> child <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Child</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>child<span class="token punctuation">.</span>parentName<span class="token punctuation">)</span> <span class="token comment">//parent</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>child<span class="token punctuation">.</span><span class="token function">getParentName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//parent1</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><h3 id="_7-混入方式继承"><a href="#_7-混入方式继承" class="header-anchor">#</a> 7.混入方式继承</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Parent</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>parentName <span class="token operator">=</span> <span class="token string">&quot;parent&quot;</span>
<span class="token punctuation">}</span>
<span class="token class-name">Parent</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">getParentName</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>parentName <span class="token operator">+</span> <span class="token number">1</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">Child</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>childName <span class="token operator">=</span> <span class="token string">&quot;child&quot;</span>
<span class="token punctuation">}</span>
<span class="token class-name">Child</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">getChildName</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>childName <span class="token operator">+</span> <span class="token number">1</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">MyClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">Parent</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
  <span class="token function">Child</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token class-name">MyClass</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token class-name">Parent</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span>
Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token class-name">MyClass</span><span class="token punctuation">.</span>prototype<span class="token punctuation">,</span> <span class="token class-name">Child</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span>
<span class="token class-name">MyClass</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>contructor <span class="token operator">=</span> MyClass
<span class="token keyword">var</span> child <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>child<span class="token punctuation">.</span>parentName<span class="token punctuation">)</span> <span class="token comment">//parent</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>child<span class="token punctuation">.</span><span class="token function">getParentName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//parent1</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><h3 id="_8-es6-类继承-extends"><a href="#_8-es6-类继承-extends" class="header-anchor">#</a> 8.ES6 类继承 extends</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Parent</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>parentName <span class="token operator">=</span> <span class="token string">&quot;parent&quot;</span>
  <span class="token punctuation">}</span>
  <span class="token function">getParentName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>parentName <span class="token operator">+</span> <span class="token number">1</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Child</span> <span class="token keyword">extends</span> <span class="token class-name">Parent</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>childName <span class="token operator">=</span> <span class="token string">&quot;child&quot;</span>
  <span class="token punctuation">}</span>
  <span class="token function">getChildName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>childName <span class="token operator">+</span> <span class="token number">1</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> child <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Child</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>child<span class="token punctuation">.</span>parentName<span class="token punctuation">)</span> <span class="token comment">//parent</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>child<span class="token punctuation">.</span><span class="token function">getParentName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//parent1</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/zhoubichuan/web-javascript/edit/master/src/2.advanced/3.type/9.function.md" target="_blank" rel="noopener noreferrer">在github上编辑此页</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2024/4/29下午4:37:46</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/web-javascript/2.advanced/3.type/8.array.html" class="prev">
        八.数据分类[Array]
      </a></span> <span class="next"><a href="/web-javascript/2.advanced/3.type/10.judge.html">
        十.数据判断
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/web-javascript/assets/js/app.6a57d9f1.js" defer></script><script src="/web-javascript/assets/js/3.e9ec0dc9.js" defer></script><script src="/web-javascript/assets/js/18.e2b34fcc.js" defer></script><script src="/web-javascript/assets/js/6.8c68cd55.js" defer></script>
  </body>
</html>
