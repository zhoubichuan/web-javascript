<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>三.单例模式 | JavaScript学习笔记</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/web-javascript/home.png">
    <link rel="manifest" href="/web-javascript/manifest.json">
    <script src="/web-javascript/dll/vendor.dll.js"></script>
    <script src="https://webapi.amap.com/maps?v=2.0&amp;key=46c9ed4e2d25a0e0ee7c883fd5b1a0c8"></script>
    <script src="https://webapi.amap.com/ui/1.1/main.js?v=1.1.1"></script>
    <meta name="description" content="个人总结的vuepress学习技术文档-语法">
    <meta name="keywords" content="vuepress,最新技术文档,vuepress语法,markdown语法">
    
    <link rel="preload" href="/web-javascript/assets/css/0.styles.b166fd3a.css" as="style"><link rel="preload" href="/web-javascript/assets/js/app.551daefc.js" as="script"><link rel="preload" href="/web-javascript/assets/js/3.e9ec0dc9.js" as="script"><link rel="preload" href="/web-javascript/assets/js/34.86bebae0.js" as="script"><link rel="preload" href="/web-javascript/assets/js/6.8c68cd55.js" as="script"><link rel="prefetch" href="/web-javascript/assets/js/10.3d96434f.js"><link rel="prefetch" href="/web-javascript/assets/js/100.c80e2656.js"><link rel="prefetch" href="/web-javascript/assets/js/101.b804cd29.js"><link rel="prefetch" href="/web-javascript/assets/js/102.175bd153.js"><link rel="prefetch" href="/web-javascript/assets/js/103.607461ea.js"><link rel="prefetch" href="/web-javascript/assets/js/104.5bc87031.js"><link rel="prefetch" href="/web-javascript/assets/js/105.4e4c6904.js"><link rel="prefetch" href="/web-javascript/assets/js/106.f380fdd3.js"><link rel="prefetch" href="/web-javascript/assets/js/107.cf8a0829.js"><link rel="prefetch" href="/web-javascript/assets/js/108.5ce1cffd.js"><link rel="prefetch" href="/web-javascript/assets/js/109.ff201df3.js"><link rel="prefetch" href="/web-javascript/assets/js/11.4bc148a1.js"><link rel="prefetch" href="/web-javascript/assets/js/110.c60e9349.js"><link rel="prefetch" href="/web-javascript/assets/js/111.eac70358.js"><link rel="prefetch" href="/web-javascript/assets/js/112.241c10f2.js"><link rel="prefetch" href="/web-javascript/assets/js/113.2522d900.js"><link rel="prefetch" href="/web-javascript/assets/js/114.8ed3cc0c.js"><link rel="prefetch" href="/web-javascript/assets/js/115.25dcf12a.js"><link rel="prefetch" href="/web-javascript/assets/js/116.33c49635.js"><link rel="prefetch" href="/web-javascript/assets/js/117.3b4d20ac.js"><link rel="prefetch" href="/web-javascript/assets/js/118.3589e8da.js"><link rel="prefetch" href="/web-javascript/assets/js/119.765f89eb.js"><link rel="prefetch" href="/web-javascript/assets/js/12.146b2fd9.js"><link rel="prefetch" href="/web-javascript/assets/js/120.2b0d5cd6.js"><link rel="prefetch" href="/web-javascript/assets/js/121.0427b9e0.js"><link rel="prefetch" href="/web-javascript/assets/js/122.854aa9c7.js"><link rel="prefetch" href="/web-javascript/assets/js/123.be6c0ee1.js"><link rel="prefetch" href="/web-javascript/assets/js/124.b7cc4b47.js"><link rel="prefetch" href="/web-javascript/assets/js/125.071e8945.js"><link rel="prefetch" href="/web-javascript/assets/js/126.39ce8fea.js"><link rel="prefetch" href="/web-javascript/assets/js/127.89996c63.js"><link rel="prefetch" href="/web-javascript/assets/js/128.49787d90.js"><link rel="prefetch" href="/web-javascript/assets/js/129.d1ade0c1.js"><link rel="prefetch" href="/web-javascript/assets/js/13.0b1396ed.js"><link rel="prefetch" href="/web-javascript/assets/js/130.b5cf38ab.js"><link rel="prefetch" href="/web-javascript/assets/js/131.4e404237.js"><link rel="prefetch" href="/web-javascript/assets/js/132.1fcae530.js"><link rel="prefetch" href="/web-javascript/assets/js/133.c00f6dde.js"><link rel="prefetch" href="/web-javascript/assets/js/134.3447d412.js"><link rel="prefetch" href="/web-javascript/assets/js/135.53b56f12.js"><link rel="prefetch" href="/web-javascript/assets/js/136.bb592e50.js"><link rel="prefetch" href="/web-javascript/assets/js/137.935565f7.js"><link rel="prefetch" href="/web-javascript/assets/js/138.0f971e0f.js"><link rel="prefetch" href="/web-javascript/assets/js/139.f78782bf.js"><link rel="prefetch" href="/web-javascript/assets/js/14.8520b2b8.js"><link rel="prefetch" href="/web-javascript/assets/js/140.b2d42773.js"><link rel="prefetch" href="/web-javascript/assets/js/141.cad52bea.js"><link rel="prefetch" href="/web-javascript/assets/js/142.1dda2adf.js"><link rel="prefetch" href="/web-javascript/assets/js/143.3584f127.js"><link rel="prefetch" href="/web-javascript/assets/js/144.c222e0cc.js"><link rel="prefetch" href="/web-javascript/assets/js/145.5e0206f0.js"><link rel="prefetch" href="/web-javascript/assets/js/146.0649a7a0.js"><link rel="prefetch" href="/web-javascript/assets/js/147.68616caa.js"><link rel="prefetch" href="/web-javascript/assets/js/148.083f5c0a.js"><link rel="prefetch" href="/web-javascript/assets/js/149.69131aab.js"><link rel="prefetch" href="/web-javascript/assets/js/15.ec87e80a.js"><link rel="prefetch" href="/web-javascript/assets/js/150.6fa7092a.js"><link rel="prefetch" href="/web-javascript/assets/js/151.d65dda95.js"><link rel="prefetch" href="/web-javascript/assets/js/152.6e59d109.js"><link rel="prefetch" href="/web-javascript/assets/js/153.64abd3d4.js"><link rel="prefetch" href="/web-javascript/assets/js/154.730f07f4.js"><link rel="prefetch" href="/web-javascript/assets/js/155.1f960055.js"><link rel="prefetch" href="/web-javascript/assets/js/156.06de34eb.js"><link rel="prefetch" href="/web-javascript/assets/js/157.c0c72142.js"><link rel="prefetch" href="/web-javascript/assets/js/158.4b8e09b4.js"><link rel="prefetch" href="/web-javascript/assets/js/159.34582ae9.js"><link rel="prefetch" href="/web-javascript/assets/js/16.81784f4b.js"><link rel="prefetch" href="/web-javascript/assets/js/160.774b76db.js"><link rel="prefetch" href="/web-javascript/assets/js/161.766f3adf.js"><link rel="prefetch" href="/web-javascript/assets/js/162.73827d68.js"><link rel="prefetch" href="/web-javascript/assets/js/163.6b44308f.js"><link rel="prefetch" href="/web-javascript/assets/js/164.a866e2ea.js"><link rel="prefetch" href="/web-javascript/assets/js/165.17cfa786.js"><link rel="prefetch" href="/web-javascript/assets/js/166.1fee10bd.js"><link rel="prefetch" href="/web-javascript/assets/js/167.468b3633.js"><link rel="prefetch" href="/web-javascript/assets/js/168.6d69c1e6.js"><link rel="prefetch" href="/web-javascript/assets/js/169.85943dce.js"><link rel="prefetch" href="/web-javascript/assets/js/17.d22eeb91.js"><link rel="prefetch" href="/web-javascript/assets/js/170.2a19c244.js"><link rel="prefetch" href="/web-javascript/assets/js/171.4588abd5.js"><link rel="prefetch" href="/web-javascript/assets/js/172.cdcb2e1b.js"><link rel="prefetch" href="/web-javascript/assets/js/173.51b459b6.js"><link rel="prefetch" href="/web-javascript/assets/js/174.8257a8dc.js"><link rel="prefetch" href="/web-javascript/assets/js/175.f41ce05f.js"><link rel="prefetch" href="/web-javascript/assets/js/176.9246d169.js"><link rel="prefetch" href="/web-javascript/assets/js/177.bf39f4ef.js"><link rel="prefetch" href="/web-javascript/assets/js/178.9c632b21.js"><link rel="prefetch" href="/web-javascript/assets/js/179.31aa0b76.js"><link rel="prefetch" href="/web-javascript/assets/js/18.a9e6d8dd.js"><link rel="prefetch" href="/web-javascript/assets/js/180.57a96b87.js"><link rel="prefetch" href="/web-javascript/assets/js/181.5a2f47dd.js"><link rel="prefetch" href="/web-javascript/assets/js/182.229010ad.js"><link rel="prefetch" href="/web-javascript/assets/js/183.4033bdfe.js"><link rel="prefetch" href="/web-javascript/assets/js/184.5470088a.js"><link rel="prefetch" href="/web-javascript/assets/js/185.58e869a5.js"><link rel="prefetch" href="/web-javascript/assets/js/186.63ee42ba.js"><link rel="prefetch" href="/web-javascript/assets/js/187.23bd54a3.js"><link rel="prefetch" href="/web-javascript/assets/js/188.c280942d.js"><link rel="prefetch" href="/web-javascript/assets/js/189.5a39c173.js"><link rel="prefetch" href="/web-javascript/assets/js/19.1319631a.js"><link rel="prefetch" href="/web-javascript/assets/js/190.7205d249.js"><link rel="prefetch" href="/web-javascript/assets/js/191.57bd7491.js"><link rel="prefetch" href="/web-javascript/assets/js/192.7f6e6806.js"><link rel="prefetch" href="/web-javascript/assets/js/193.1e921039.js"><link rel="prefetch" href="/web-javascript/assets/js/20.050e4b7e.js"><link rel="prefetch" href="/web-javascript/assets/js/21.95164142.js"><link rel="prefetch" href="/web-javascript/assets/js/22.2f58c1fa.js"><link rel="prefetch" href="/web-javascript/assets/js/23.7155ac9b.js"><link rel="prefetch" href="/web-javascript/assets/js/24.a3907dea.js"><link rel="prefetch" href="/web-javascript/assets/js/25.033ceadd.js"><link rel="prefetch" href="/web-javascript/assets/js/26.e5b46d0f.js"><link rel="prefetch" href="/web-javascript/assets/js/27.04bfe5a7.js"><link rel="prefetch" href="/web-javascript/assets/js/28.3defadff.js"><link rel="prefetch" href="/web-javascript/assets/js/29.5dec92e8.js"><link rel="prefetch" href="/web-javascript/assets/js/30.70755bf4.js"><link rel="prefetch" href="/web-javascript/assets/js/31.344b317b.js"><link rel="prefetch" href="/web-javascript/assets/js/32.071c4013.js"><link rel="prefetch" href="/web-javascript/assets/js/33.6faae56f.js"><link rel="prefetch" href="/web-javascript/assets/js/35.a6fd606b.js"><link rel="prefetch" href="/web-javascript/assets/js/36.665417b8.js"><link rel="prefetch" href="/web-javascript/assets/js/37.d3eaf453.js"><link rel="prefetch" href="/web-javascript/assets/js/38.a3199d1f.js"><link rel="prefetch" href="/web-javascript/assets/js/39.16dce1a8.js"><link rel="prefetch" href="/web-javascript/assets/js/4.fc2e2d66.js"><link rel="prefetch" href="/web-javascript/assets/js/40.a860f82b.js"><link rel="prefetch" href="/web-javascript/assets/js/41.2c4b6912.js"><link rel="prefetch" href="/web-javascript/assets/js/42.4e7d003c.js"><link rel="prefetch" href="/web-javascript/assets/js/43.5b345feb.js"><link rel="prefetch" href="/web-javascript/assets/js/44.559aac16.js"><link rel="prefetch" href="/web-javascript/assets/js/45.ae3fe7df.js"><link rel="prefetch" href="/web-javascript/assets/js/46.fa4f599d.js"><link rel="prefetch" href="/web-javascript/assets/js/47.5276c351.js"><link rel="prefetch" href="/web-javascript/assets/js/48.1edc97da.js"><link rel="prefetch" href="/web-javascript/assets/js/49.8a61149f.js"><link rel="prefetch" href="/web-javascript/assets/js/5.792aefb7.js"><link rel="prefetch" href="/web-javascript/assets/js/50.18f2e341.js"><link rel="prefetch" href="/web-javascript/assets/js/51.13272cd6.js"><link rel="prefetch" href="/web-javascript/assets/js/52.6599f277.js"><link rel="prefetch" href="/web-javascript/assets/js/53.9f3788aa.js"><link rel="prefetch" href="/web-javascript/assets/js/54.9639df49.js"><link rel="prefetch" href="/web-javascript/assets/js/55.26a0791f.js"><link rel="prefetch" href="/web-javascript/assets/js/56.e2c8591c.js"><link rel="prefetch" href="/web-javascript/assets/js/57.95245e13.js"><link rel="prefetch" href="/web-javascript/assets/js/58.2b8e982c.js"><link rel="prefetch" href="/web-javascript/assets/js/59.dc53d652.js"><link rel="prefetch" href="/web-javascript/assets/js/60.847db4bc.js"><link rel="prefetch" href="/web-javascript/assets/js/61.dc4f14dc.js"><link rel="prefetch" href="/web-javascript/assets/js/62.27611daf.js"><link rel="prefetch" href="/web-javascript/assets/js/63.9962e8f8.js"><link rel="prefetch" href="/web-javascript/assets/js/64.f6a8014f.js"><link rel="prefetch" href="/web-javascript/assets/js/65.b953a41f.js"><link rel="prefetch" href="/web-javascript/assets/js/66.7fc14e88.js"><link rel="prefetch" href="/web-javascript/assets/js/67.3adef651.js"><link rel="prefetch" href="/web-javascript/assets/js/68.b4bd5684.js"><link rel="prefetch" href="/web-javascript/assets/js/69.5e3e7415.js"><link rel="prefetch" href="/web-javascript/assets/js/7.afa77f40.js"><link rel="prefetch" href="/web-javascript/assets/js/70.155fdaef.js"><link rel="prefetch" href="/web-javascript/assets/js/71.fd9b875b.js"><link rel="prefetch" href="/web-javascript/assets/js/72.92b9f56f.js"><link rel="prefetch" href="/web-javascript/assets/js/73.62f0477e.js"><link rel="prefetch" href="/web-javascript/assets/js/74.0fa6a06d.js"><link rel="prefetch" href="/web-javascript/assets/js/75.4e525fde.js"><link rel="prefetch" href="/web-javascript/assets/js/76.ab65ce02.js"><link rel="prefetch" href="/web-javascript/assets/js/77.5dddf6a1.js"><link rel="prefetch" href="/web-javascript/assets/js/78.3f63fb2b.js"><link rel="prefetch" href="/web-javascript/assets/js/79.a361a93d.js"><link rel="prefetch" href="/web-javascript/assets/js/8.49b39b40.js"><link rel="prefetch" href="/web-javascript/assets/js/80.78037ac8.js"><link rel="prefetch" href="/web-javascript/assets/js/81.dbe0db3d.js"><link rel="prefetch" href="/web-javascript/assets/js/82.ec4924a9.js"><link rel="prefetch" href="/web-javascript/assets/js/83.e3fd09f3.js"><link rel="prefetch" href="/web-javascript/assets/js/84.0ba30ca2.js"><link rel="prefetch" href="/web-javascript/assets/js/85.56ec1c57.js"><link rel="prefetch" href="/web-javascript/assets/js/86.693e027b.js"><link rel="prefetch" href="/web-javascript/assets/js/87.d6d538f5.js"><link rel="prefetch" href="/web-javascript/assets/js/88.fb28a19d.js"><link rel="prefetch" href="/web-javascript/assets/js/89.882ada9c.js"><link rel="prefetch" href="/web-javascript/assets/js/9.a6ec67f3.js"><link rel="prefetch" href="/web-javascript/assets/js/90.d7a7229f.js"><link rel="prefetch" href="/web-javascript/assets/js/91.658032da.js"><link rel="prefetch" href="/web-javascript/assets/js/92.a807413f.js"><link rel="prefetch" href="/web-javascript/assets/js/93.ed6b9e19.js"><link rel="prefetch" href="/web-javascript/assets/js/94.045a49d3.js"><link rel="prefetch" href="/web-javascript/assets/js/95.6030fc10.js"><link rel="prefetch" href="/web-javascript/assets/js/96.93567097.js"><link rel="prefetch" href="/web-javascript/assets/js/97.abae11f5.js"><link rel="prefetch" href="/web-javascript/assets/js/98.e6101b3e.js"><link rel="prefetch" href="/web-javascript/assets/js/99.e9e3b936.js"><link rel="prefetch" href="/web-javascript/assets/js/vendors~flowchart.ed6a2ace.js">
    <link rel="stylesheet" href="/web-javascript/assets/css/0.styles.b166fd3a.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/web-javascript/" class="home-link router-link-active"><!----> <span class="site-name">JavaScript学习笔记</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="基础知识" class="dropdown-title"><span class="title">基础知识</span> <span class="arrow down"></span></button> <button type="button" aria-label="基础知识" class="mobile-dropdown-title"><span class="title">基础知识</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/web-javascript/1.base/1.ECMAScript/1.index.html" class="nav-link">
  一.ECMAScript
</a></li><li class="dropdown-item"><!----> <a href="/web-javascript/1.base/2.ECMAScript6/1.index.html" class="nav-link">
  二.ECMAScript6
</a></li><li class="dropdown-item"><!----> <a href="/web-javascript/1.base/3.JavaScript/1.index.html" class="nav-link">
  三.JavaScript
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="中级知识" class="dropdown-title"><span class="title">中级知识</span> <span class="arrow down"></span></button> <button type="button" aria-label="中级知识" class="mobile-dropdown-title"><span class="title">中级知识</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/web-javascript/2.advanced/2.js/1.index.html" class="nav-link">
  一.运行机制
</a></li><li class="dropdown-item"><!----> <a href="/web-javascript/2.advanced/3.type/1.index.html" class="nav-link">
  二.数据类型
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="专项知识" class="dropdown-title"><span class="title">专项知识</span> <span class="arrow down"></span></button> <button type="button" aria-label="专项知识" class="mobile-dropdown-title"><span class="title">专项知识</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/web-javascript/3.senior/2.design/1.index.html" class="nav-link">
  一.设计模式
</a></li><li class="dropdown-item"><!----> <a href="/web-javascript/3.senior/5.optimize/1.index.html" class="nav-link">
  二.性能优化
</a></li><li class="dropdown-item"><!----> <a href="/web-javascript/3.senior/6.debugger/1.index.html" class="nav-link">
  三.前端调试
</a></li><li class="dropdown-item"><!----> <a href="/web-javascript/3.senior/7.cross/1.index.html" class="nav-link">
  四.跨域方式
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="JavaScript引擎" class="dropdown-title"><span class="title">JavaScript引擎</span> <span class="arrow down"></span></button> <button type="button" aria-label="JavaScript引擎" class="mobile-dropdown-title"><span class="title">JavaScript引擎</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/web-javascript/6.source/1.promise/1.index.html" class="nav-link">
  一.JavaScriptCore
</a></li><li class="dropdown-item"><!----> <a href="/web-javascript/6.source/browser/1.index.html" class="nav-link">
  二.V8
</a></li><li class="dropdown-item"><!----> <a href="/web-javascript/6.source/api/1.index.html" class="nav-link">
  三.SpiderMonkey
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端工程化" class="dropdown-title"><span class="title">前端工程化</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端工程化" class="mobile-dropdown-title"><span class="title">前端工程化</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/web-javascript/4.special/1.cli/1.index.html" class="nav-link">
  一.工程化基础
</a></li><li class="dropdown-item"><!----> <a href="/web-javascript/4.special/3.dev/1.index.html" class="nav-link">
  三.开发
</a></li><li class="dropdown-item"><!----> <a href="/web-javascript/4.special/4.construct/1.index.html" class="nav-link">
  四.构建
</a></li><li class="dropdown-item"><!----> <a href="/web-javascript/4.special/5.project/1.index.html" class="nav-link">
  五.开发流程
</a></li><li class="dropdown-item"><!----> <a href="/web-javascript/4.special/5.standard/1.index.html" class="nav-link">
  五.代码规范
</a></li><li class="dropdown-item"><!----> <a href="/web-javascript/4.special/6.test/1.index.html" class="nav-link">
  六.前端测试
</a></li><li class="dropdown-item"><!----> <a href="/web-javascript/4.special/7.cicd/1.index.html" class="nav-link">
  七.CI/CD
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="书籍资料" class="dropdown-title"><span class="title">书籍资料</span> <span class="arrow down"></span></button> <button type="button" aria-label="书籍资料" class="mobile-dropdown-title"><span class="title">书籍资料</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/web-javascript/7.read/book1/1.index.html" class="nav-link">
  一.《JavaScript高级程序设计（第4版）》
</a></li><li class="dropdown-item"><!----> <a href="/web-javascript/7.read/book2/1.index.html" class="nav-link">
  二.《JavaScript DOM编程艺术》
</a></li><li class="dropdown-item"><!----> <a href="/web-javascript/7.read/book3/1.index.html" class="nav-link">
  三.《你不知道的JavaScript》
</a></li><li class="dropdown-item"><!----> <a href="/web-javascript/7.read/book4/1.index.html" class="nav-link">
  四.《JavaScript设计模式与开发实践》
</a></li><li class="dropdown-item"><!----> <a href="/web-javascript/7.read/book5/1.index.html" class="nav-link">
  五.《高性能JavaScript》
</a></li></ul></div></div> <a href="https://gitee.com/zhoubichuan/web-javascript" target="_blank" rel="noopener noreferrer" class="repo-link">
    查看源码
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="基础知识" class="dropdown-title"><span class="title">基础知识</span> <span class="arrow down"></span></button> <button type="button" aria-label="基础知识" class="mobile-dropdown-title"><span class="title">基础知识</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/web-javascript/1.base/1.ECMAScript/1.index.html" class="nav-link">
  一.ECMAScript
</a></li><li class="dropdown-item"><!----> <a href="/web-javascript/1.base/2.ECMAScript6/1.index.html" class="nav-link">
  二.ECMAScript6
</a></li><li class="dropdown-item"><!----> <a href="/web-javascript/1.base/3.JavaScript/1.index.html" class="nav-link">
  三.JavaScript
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="中级知识" class="dropdown-title"><span class="title">中级知识</span> <span class="arrow down"></span></button> <button type="button" aria-label="中级知识" class="mobile-dropdown-title"><span class="title">中级知识</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/web-javascript/2.advanced/2.js/1.index.html" class="nav-link">
  一.运行机制
</a></li><li class="dropdown-item"><!----> <a href="/web-javascript/2.advanced/3.type/1.index.html" class="nav-link">
  二.数据类型
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="专项知识" class="dropdown-title"><span class="title">专项知识</span> <span class="arrow down"></span></button> <button type="button" aria-label="专项知识" class="mobile-dropdown-title"><span class="title">专项知识</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/web-javascript/3.senior/2.design/1.index.html" class="nav-link">
  一.设计模式
</a></li><li class="dropdown-item"><!----> <a href="/web-javascript/3.senior/5.optimize/1.index.html" class="nav-link">
  二.性能优化
</a></li><li class="dropdown-item"><!----> <a href="/web-javascript/3.senior/6.debugger/1.index.html" class="nav-link">
  三.前端调试
</a></li><li class="dropdown-item"><!----> <a href="/web-javascript/3.senior/7.cross/1.index.html" class="nav-link">
  四.跨域方式
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="JavaScript引擎" class="dropdown-title"><span class="title">JavaScript引擎</span> <span class="arrow down"></span></button> <button type="button" aria-label="JavaScript引擎" class="mobile-dropdown-title"><span class="title">JavaScript引擎</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/web-javascript/6.source/1.promise/1.index.html" class="nav-link">
  一.JavaScriptCore
</a></li><li class="dropdown-item"><!----> <a href="/web-javascript/6.source/browser/1.index.html" class="nav-link">
  二.V8
</a></li><li class="dropdown-item"><!----> <a href="/web-javascript/6.source/api/1.index.html" class="nav-link">
  三.SpiderMonkey
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端工程化" class="dropdown-title"><span class="title">前端工程化</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端工程化" class="mobile-dropdown-title"><span class="title">前端工程化</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/web-javascript/4.special/1.cli/1.index.html" class="nav-link">
  一.工程化基础
</a></li><li class="dropdown-item"><!----> <a href="/web-javascript/4.special/3.dev/1.index.html" class="nav-link">
  三.开发
</a></li><li class="dropdown-item"><!----> <a href="/web-javascript/4.special/4.construct/1.index.html" class="nav-link">
  四.构建
</a></li><li class="dropdown-item"><!----> <a href="/web-javascript/4.special/5.project/1.index.html" class="nav-link">
  五.开发流程
</a></li><li class="dropdown-item"><!----> <a href="/web-javascript/4.special/5.standard/1.index.html" class="nav-link">
  五.代码规范
</a></li><li class="dropdown-item"><!----> <a href="/web-javascript/4.special/6.test/1.index.html" class="nav-link">
  六.前端测试
</a></li><li class="dropdown-item"><!----> <a href="/web-javascript/4.special/7.cicd/1.index.html" class="nav-link">
  七.CI/CD
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="书籍资料" class="dropdown-title"><span class="title">书籍资料</span> <span class="arrow down"></span></button> <button type="button" aria-label="书籍资料" class="mobile-dropdown-title"><span class="title">书籍资料</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/web-javascript/7.read/book1/1.index.html" class="nav-link">
  一.《JavaScript高级程序设计（第4版）》
</a></li><li class="dropdown-item"><!----> <a href="/web-javascript/7.read/book2/1.index.html" class="nav-link">
  二.《JavaScript DOM编程艺术》
</a></li><li class="dropdown-item"><!----> <a href="/web-javascript/7.read/book3/1.index.html" class="nav-link">
  三.《你不知道的JavaScript》
</a></li><li class="dropdown-item"><!----> <a href="/web-javascript/7.read/book4/1.index.html" class="nav-link">
  四.《JavaScript设计模式与开发实践》
</a></li><li class="dropdown-item"><!----> <a href="/web-javascript/7.read/book5/1.index.html" class="nav-link">
  五.《高性能JavaScript》
</a></li></ul></div></div> <a href="https://gitee.com/zhoubichuan/web-javascript" target="_blank" rel="noopener noreferrer" class="repo-link">
    查看源码
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/web-javascript/3.senior/2.design/1.index.html" class="sidebar-link">23 种设计模式</a></li><li><a href="/web-javascript/3.senior/2.design/1.factory.html" class="sidebar-link">一.工厂模式</a></li><li><a href="/web-javascript/3.senior/2.design/2.abstract.html" class="sidebar-link">二.抽象工厂模式</a></li><li><a href="/web-javascript/3.senior/2.design/3.single.html" aria-current="page" class="active sidebar-link">三.单例模式</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/web-javascript/3.senior/2.design/3.single.html#_1-类图" class="sidebar-link">1.类图</a></li><li class="sidebar-sub-header"><a href="/web-javascript/3.senior/2.design/3.single.html#_2-代码" class="sidebar-link">2.代码</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/web-javascript/3.senior/2.design/3.single.html#_2-1-typescript-单例模式" class="sidebar-link">2.1 typescript 单例模式</a></li><li class="sidebar-sub-header"><a href="/web-javascript/3.senior/2.design/3.single.html#_2-2-es5-单例模式" class="sidebar-link">2.2 es5 单例模式</a></li><li class="sidebar-sub-header"><a href="/web-javascript/3.senior/2.design/3.single.html#_2-3-透明单例" class="sidebar-link">2.3 透明单例</a></li><li class="sidebar-sub-header"><a href="/web-javascript/3.senior/2.design/3.single.html#_2-4-单例与构建分离" class="sidebar-link">2.4 单例与构建分离</a></li><li class="sidebar-sub-header"><a href="/web-javascript/3.senior/2.design/3.single.html#_2-5-封装变量" class="sidebar-link">2.5 封装变量</a></li><li class="sidebar-sub-header"><a href="/web-javascript/3.senior/2.design/3.single.html#_2-6-命名空间" class="sidebar-link">2.6 命名空间</a></li></ul></li><li class="sidebar-sub-header"><a href="/web-javascript/3.senior/2.design/3.single.html#_3-场景" class="sidebar-link">3.场景</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/web-javascript/3.senior/2.design/3.single.html#_3-1-jquery" class="sidebar-link">3.1 jQuery</a></li><li class="sidebar-sub-header"><a href="/web-javascript/3.senior/2.design/3.single.html#_3-2-模态窗口" class="sidebar-link">3.2 模态窗口</a></li><li class="sidebar-sub-header"><a href="/web-javascript/3.senior/2.design/3.single.html#_3-3-store" class="sidebar-link">3.3 store</a></li><li class="sidebar-sub-header"><a href="/web-javascript/3.senior/2.design/3.single.html#_3-4-缓存" class="sidebar-link">3.4 缓存</a></li><li class="sidebar-sub-header"><a href="/web-javascript/3.senior/2.design/3.single.html#_3-5-lru-缓存" class="sidebar-link">3.5 LRU 缓存</a></li></ul></li></ul></li><li><a href="/web-javascript/3.senior/2.design/4.prototype.html" class="sidebar-link">四.原型模式</a></li><li><a href="/web-javascript/3.senior/2.design/5.made.html" class="sidebar-link">五.建造者模式</a></li><li><a href="/web-javascript/3.senior/2.design/6.adapter.html" class="sidebar-link">六.适配器模式</a></li><li><a href="/web-javascript/3.senior/2.design/7.decorator.html" class="sidebar-link">七.装饰器模式</a></li><li><a href="/web-javascript/3.senior/2.design/8.proxy.html" class="sidebar-link">八.代理模式</a></li><li><a href="/web-javascript/3.senior/2.design/9.appearance.html" class="sidebar-link">九.外观模式</a></li><li><a href="/web-javascript/3.senior/2.design/10.pickup.html" class="sidebar-link">十.桥接模式</a></li><li><a href="/web-javascript/3.senior/2.design/11.combination.html" class="sidebar-link">十一.组合模式</a></li><li><a href="/web-javascript/3.senior/2.design/12.flyweight.html" class="sidebar-link">十二.享元模式</a></li><li><a href="/web-javascript/3.senior/2.design/13.strategy.html" class="sidebar-link">十三.策略模式</a></li><li><a href="/web-javascript/3.senior/2.design/14.module.html" class="sidebar-link">十四.模版方法模式</a></li><li><a href="/web-javascript/3.senior/2.design/15.observer.html" class="sidebar-link">十五.观察者模式</a></li><li><a href="/web-javascript/3.senior/2.design/16.iterator.html" class="sidebar-link">十六.迭代器模式</a></li><li><a href="/web-javascript/3.senior/2.design/17.chain.html" class="sidebar-link">十七.职责链模式</a></li><li><a href="/web-javascript/3.senior/2.design/18.command.html" class="sidebar-link">十八.命令模式</a></li><li><a href="/web-javascript/3.senior/2.design/19.memorandum.html" class="sidebar-link">十九.备忘录模式</a></li><li><a href="/web-javascript/3.senior/2.design/20.state.html" class="sidebar-link">二十.状态模式</a></li><li><a href="/web-javascript/3.senior/2.design/21.visitor.html" class="sidebar-link">二十一.访问者模式</a></li><li><a href="/web-javascript/3.senior/2.design/22.mediator.html" class="sidebar-link">二十二.中介者模式</a></li><li><a href="/web-javascript/3.senior/2.design/23.interpreter.html" class="sidebar-link">二十三.解释器模式</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="三-单例模式"><a href="#三-单例模式" class="header-anchor">#</a> 三.单例模式</h1> <p>把描述同一事物（同一个对象）的属性和方法在一个内存空间下，起到了分组的作用，这样不同事物之间的属性即使属性名相同，相互也不会发生冲突，我们把这种分组编写代码的模式叫做&quot;单例模式&quot;</p> <h2 id="_1-类图"><a href="#_1-类图" class="header-anchor">#</a> 1.类图</h2> <p><img src="data:image/png;base64,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" alt=""></p> <h2 id="_2-代码"><a href="#_2-代码" class="header-anchor">#</a> 2.代码</h2> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">var</span> person1 <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//在单利模式中我们把preson1或者preson2也叫做“命名空间”</span>
  name<span class="token operator">:</span> <span class="token string">&quot;yiyi&quot;</span><span class="token punctuation">,</span>
  age<span class="token operator">:</span> <span class="token string">&quot;17&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> person2 <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">&quot;wew&quot;</span><span class="token punctuation">,</span>
  age<span class="token operator">:</span> <span class="token string">&quot;16&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token comment">//单利模式是一种项目开发中经常使用的模式，因为项目中我们可以使用单利模式来进行“模块化开发”</span>
<span class="token comment">//“模块化开发”对于一个相对来说比较大的项目，需要多人协作的开发，我们一般情况下会根据当前项目的需求划分成几个功能板块，每个人负责一部分，同事开发，最后把每个人的代码进行合并</span>
<span class="token comment">//公共模块</span>
<span class="token keyword">var</span> utils <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">select</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
<span class="token comment">//页卡模块中的change--&gt;实现选项卡切换</span>
<span class="token keyword">var</span> tabRender <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">change</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    utils<span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//在自己的命名空间下调用其他命名空间的方法</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
<span class="token comment">//搜索模块change -&gt;搜索内容变化处理</span>
<span class="token keyword">var</span> searchRender <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">change</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">clickEven</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//在自己的命名空间下调用自己的方法</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function-variable function">clickEven</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token comment">/* 惰性思想封装 */</span>
<span class="token comment">//使用惰性思想（js高级编程）</span>
<span class="token keyword">var</span> jsPerson <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">&quot;223&quot;</span><span class="token punctuation">,</span>
  age<span class="token operator">:</span> <span class="token string">&quot;34&quot;</span><span class="token punctuation">,</span>
  <span class="token function-variable function">writeJs</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;my name is &quot;</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
jsPerson<span class="token punctuation">.</span><span class="token function">writeJs</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">//单例模式虽然解决了分组的作用，但是不能实现批量的生产，属于手工作用模式 --&gt;&quot;工厂模式&quot;</span>
<span class="token comment">//把实现同一事件的相同代码放到一个函数中，以后如果在想实现这个功能，不需要从新编写这些代码，只需要执行当前的函数即可 --&gt;'函数的封装'</span>
<span class="token comment">//--&gt;'低耦合高内聚'：减少页面中的冗余代码，提高代码的重复利用率</span>
<span class="token keyword">function</span> <span class="token function">createJsPerson</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  obj<span class="token punctuation">.</span>name <span class="token operator">=</span> name
  obj<span class="token punctuation">.</span>age <span class="token operator">=</span> age

  obj<span class="token punctuation">.</span><span class="token function-variable function">writeJs</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;my name is &quot;</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> obj
<span class="token punctuation">}</span>
<span class="token keyword">var</span> p1 <span class="token operator">=</span> <span class="token function">createJsPerson</span><span class="token punctuation">(</span><span class="token string">&quot;xxx&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;47&quot;</span><span class="token punctuation">)</span>

<span class="token comment">//所有的编程语言都是面向对象开发的 --&gt;类的继承、封装、多态</span>
<span class="token comment">//继承：子类继承父类中的属性和方法</span>
<span class="token comment">//多态：当前方法的多种形态（后台语言中：多态包含重载和重写）</span>

<span class="token comment">//js中不存在重载，方法名一样的话，后面的会把前面的覆盖掉，最后只保留一个</span>
<span class="token comment">//js中有一个操作类似重载但是不是重载：我们可以根据传递参数的不一样的，实现不同的功能</span>
<span class="token keyword">function</span> <span class="token function">sum</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> num <span class="token operator">===</span> <span class="token string">&quot;undefined&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token number">0</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> num
<span class="token punctuation">}</span>
<span class="token function">sum</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span>
<span class="token function">sum</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">//重写：子类重写父类的方法</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br></div></div><h3 id="_2-1-typescript-单例模式"><a href="#_2-1-typescript-单例模式" class="header-anchor">#</a> 2.1 typescript 单例模式</h3> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">class</span> <span class="token class-name">Window</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
  <span class="token punctuation">}</span>
  <span class="token keyword">static</span> <span class="token function">getInstance</span><span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> ins<span class="token operator">:</span> <span class="token builtin">any</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>instance <span class="token operator">||</span> <span class="token keyword">null</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>ins<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      ins <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Window</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>getInstance
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> w1 <span class="token operator">=</span> Window<span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> w2 <span class="token operator">=</span> Window<span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>w1 <span class="token operator">===</span> w2<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h3 id="_2-2-es5-单例模式"><a href="#_2-2-es5-单例模式" class="header-anchor">#</a> 2.2 es5 单例模式</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> <span class="token function-variable function">Window</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
<span class="token punctuation">}</span>

<span class="token class-name">Window</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">getName</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
Window<span class="token punctuation">.</span>getInstance <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> window <span class="token operator">=</span> <span class="token keyword">null</span>
  <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>window<span class="token punctuation">)</span> window <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Window</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span>
    <span class="token keyword">return</span> window
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> window <span class="token operator">=</span> Window<span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token string">&quot;123&quot;</span><span class="token punctuation">)</span>
window<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h3 id="_2-3-透明单例"><a href="#_2-3-透明单例" class="header-anchor">#</a> 2.3 透明单例</h3> <div class="language-ts line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">let</span> Window <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> window
  <span class="token keyword">let</span> <span class="token function-variable function">Window</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>window<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> window
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
      <span class="token keyword">return</span> <span class="token punctuation">(</span>window <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  Window<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">getName</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> Window
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> window1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Window</span><span class="token punctuation">(</span><span class="token string">&quot;123&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> window2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Window</span><span class="token punctuation">(</span><span class="token string">&quot;123&quot;</span><span class="token punctuation">)</span>
window1<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>window1 <span class="token operator">===</span> window2<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h3 id="_2-4-单例与构建分离"><a href="#_2-4-单例与构建分离" class="header-anchor">#</a> 2.4 单例与构建分离</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Window</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
<span class="token punctuation">}</span>
<span class="token class-name">Window</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">getName</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> createSingle <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> instance
  <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>instance<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      instance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Window</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> instance
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> window1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">createSingle</span><span class="token punctuation">(</span><span class="token string">&quot;123&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> window2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">createSingle</span><span class="token punctuation">(</span><span class="token string">&quot;123&quot;</span><span class="token punctuation">)</span>
window1<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>window1 <span class="token operator">===</span> window2<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h3 id="_2-5-封装变量"><a href="#_2-5-封装变量" class="header-anchor">#</a> 2.5 封装变量</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Window</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
<span class="token punctuation">}</span>
<span class="token class-name">Window</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">getName</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> <span class="token function-variable function">createSingle</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">Constructor</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> instance
  <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>instance<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">Constructor</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> arguments<span class="token punctuation">)</span>
      Object<span class="token punctuation">.</span><span class="token function">setPrototypeOf</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token class-name">Constructor</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span>
      instance <span class="token operator">=</span> <span class="token keyword">this</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> instance
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> CreateSingle <span class="token operator">=</span> <span class="token function">createSingle</span><span class="token punctuation">(</span>Window<span class="token punctuation">)</span>
<span class="token keyword">let</span> window1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CreateSingle</span><span class="token punctuation">(</span><span class="token string">&quot;123&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> window2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CreateSingle</span><span class="token punctuation">(</span><span class="token string">&quot;123&quot;</span><span class="token punctuation">)</span>
window1 <span class="token operator">=</span> window2
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>window1 <span class="token operator">===</span> window2<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><h3 id="_2-6-命名空间"><a href="#_2-6-命名空间" class="header-anchor">#</a> 2.6 命名空间</h3> <ul><li>用户编写的代码与内部的类/函数/常量或第三方类/函数/常量之间的名字冲突</li> <li>为很长的标识符名称创建一个别名（或简短）的名称，提高源代码的可读性。</li></ul> <p>jQuery</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> $ <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">post</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> utils <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
utils<span class="token punctuation">.</span><span class="token function-variable function">def</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">namespace<span class="token punctuation">,</span> fn</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> _namespace <span class="token operator">=</span> namespace<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot;.&quot;</span><span class="token punctuation">)</span>
  <span class="token keyword">let</span> fnName <span class="token operator">=</span> _namespace<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">let</span> current <span class="token operator">=</span> utils
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> _namespace<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> __namespace <span class="token operator">=</span> _namespace<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>current<span class="token punctuation">[</span>__namespace<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      current<span class="token punctuation">[</span>__namespace<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    current<span class="token punctuation">[</span>__namespace<span class="token punctuation">]</span><span class="token punctuation">[</span>fnName<span class="token punctuation">]</span> <span class="token operator">=</span> fn
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
utils<span class="token punctuation">.</span><span class="token function">def</span><span class="token punctuation">(</span><span class="token string">&quot;dom.attr&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">key</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;dom.attr&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
utils<span class="token punctuation">.</span><span class="token function">def</span><span class="token punctuation">(</span><span class="token string">&quot;dom.html&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">html</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;dom.html&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
utils<span class="token punctuation">.</span><span class="token function">def</span><span class="token punctuation">(</span><span class="token string">&quot;string.trim&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;string.trim&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
utils<span class="token punctuation">.</span>dom<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">&quot;src&quot;</span><span class="token punctuation">)</span>
utils<span class="token punctuation">.</span>string<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token string">&quot;aa&quot;</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">dir</span><span class="token punctuation">(</span>utils<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><h2 id="_3-场景"><a href="#_3-场景" class="header-anchor">#</a> 3.场景</h2> <h3 id="_3-1-jquery"><a href="#_3-1-jquery" class="header-anchor">#</a> 3.1 jQuery</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">if</span> <span class="token punctuation">(</span>window<span class="token punctuation">.</span>jQuery <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> window<span class="token punctuation">.</span>jQuery
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
  <span class="token comment">// init</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="_3-2-模态窗口"><a href="#_3-2-模态窗口" class="header-anchor">#</a> 3.2 模态窗口</h3> <h3 id="_3-3-store"><a href="#_3-3-store" class="header-anchor">#</a> 3.3 store</h3> <h3 id="_3-4-缓存"><a href="#_3-4-缓存" class="header-anchor">#</a> 3.4 缓存</h3> <h3 id="_3-5-lru-缓存"><a href="#_3-5-lru-缓存" class="header-anchor">#</a> 3.5 LRU 缓存</h3> <ul><li>lru-cache</li> <li>为 LRU Cache 设计一个数据结构，它支持两个操作：
<ul><li>1.get(key):如果 key 在 cache 中，则返回对应的 value 值，否则返回-1</li> <li>set(key,value):如果 key 不在 cache 中，则将该(key,value)插入 cache 中（注意，如果 cache 已满，则必须把最近最久未使用的元素从 cache 中删除）；如果 key 在 cache 中，则重置 value 的值</li></ul></li></ul></div> <footer class="page-edit"><div class="edit-link"><a href="https://gitee.com/zhoubichuan/web-javascript/edit/master/src/3.senior/2.design/3.single.md" target="_blank" rel="noopener noreferrer">在gitee上编辑此页</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2022/1/3下午4:29:31</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/web-javascript/3.senior/2.design/2.abstract.html" class="prev">
        二.抽象工厂模式
      </a></span> <span class="next"><a href="/web-javascript/3.senior/2.design/4.prototype.html">
        四.原型模式
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/web-javascript/assets/js/app.551daefc.js" defer></script><script src="/web-javascript/assets/js/3.e9ec0dc9.js" defer></script><script src="/web-javascript/assets/js/34.86bebae0.js" defer></script><script src="/web-javascript/assets/js/6.8c68cd55.js" defer></script>
  </body>
</html>
