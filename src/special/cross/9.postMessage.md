---
lang: zh-CN
sidebarDepth: 2
meta:
  - name: description
    content: 个人总结的vuepress学习技术文档-语法
  - name: keywords
    content: vuepress,最新技术文档,vuepress语法,markdown语法
---

# 九.postMessage

- frame 页面传递数据

a.html

```js
<iframe style="display:none;" id="frame" src="http://127.0.0.1:4000/b.html"></iframe>
<script type="text/javascript">
    window.onload = function () {
        let frame = document.getElementById("frame")
        // 给子页面传递数据
        frame.contentWindow.postMessage("a.html页面内容", "http://127.0.0.1:4000/")
        window.onmessage = function (e) {
            //判断消息来源
            if (e.origin == 'http://127.0.0.1:4000') {
                //得到子页面的信息
                document.write(e.data)
            }
        }
    }
</script>
```

b.html

```js
window.onmessage = function(e) {
  //得到父页面的消息
  document.write(e.data)
  //给父页面发送消息
  e.source.postMessage("b.html页面内容", e.origin)
}
```

打开 a 页面 ![http://localhost:3000/a.html](http://localhost:3000/a.html)
